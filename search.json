[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Multiciterianalysis Recarga Hydrica",
    "section": "",
    "text": "Preface\n\n\nIntroduction\nGroundwater’s significance in sustaining human consumption and agriculture across Bolivia underscores its critical role. However, the absence of regulatory policies governing extraction and safeguarding recharge areas has led to plummeting water tables, imperiling food security (Helvetas 2014). While some local initiatives aim to establish regulations, the lack of reliable hydrogeological data obstructs effective implementation.\nIn this specific case study within the cantons Aiquile and Pasorapa, located in the State of Cochabamba Bolivia, the focus rests on a municipal policy aimed at safeguarding groundwater recharge zones and the dire need for a dependable methodology for their technical identification. This method, tailored to the basin’s unique conditions, integrates local vegetation’s influence on infiltration and emphasizes rainfall’s spatial distribution to assess potential recharge, filling the data gaps.\nWatershed management and water source preservation, particularly in mountainous regions like Bolivia, hold immense importance for global ecosystem conservation. Groundwater, often overshadowed by surface water, faces escalating threats due to population growth, poor resource management, and climate fluctuations. Land use changes, including unregulated agricultural expansion and deforestation, further imperil water quality and quantity, exacerbating conflicts over natural resources (Helvetas 2014).\nEnsuring water security for both urban and rural areas necessitates regulations and conservation efforts (Figueredo 2019). Recognizing water availability’s dependency on both natural processes and socio-institutional factors, a comprehensive approach to water management encompassing all sources is vital.\nThe focus on aquifers, especially in arid regions, gains paramount importance as unchecked extraction threatens these primary water sources. Protecting areas facilitating surface infiltration, crucial for aquifer recharge, becomes imperative. The lack of delineation for these recharge zones underscores the urgency in prioritizing ecosystems and acknowledging their strategic value for effective water management (Sáenz-López et al. 2015).\nIdentifying and preserving these zones require consensus-building between authorities and local stakeholders. Participatory methodologies, such as those emphasized by Matus et al. (Matus 2007), that integrate scientific rigor with local knowledge, play a pivotal role in identifying potential aquifer recharge zones within hydrographic sub-basins. These approaches offer a cost-effective means to bridge the data gap and involve community perspectives in preservation efforts.\n\n\n\n\n\n\nFigueredo, J. L. 2019. “Metodología Para Determinar Zonas de Recarga Hídrica En Municipios o Comunidades Con Recursos Financieros Limitados.” Universidad Militar Nueva Granada. https://repository.unimilitar.edu.co/handle/10654/34946?show=full.\n\n\nHelvetas, S. I. 2014. Guía Para La Gestión, Protección y Conservación de Fuentes de Agua y Áreas de Recarga Hídrica.\n\n\nMatus, O. 2007. Elaboración Participativa de Una Metodología Para La Identificación de Zonas Potenciales de Recarga Hídrica En Subcuencas Hidrográficas , Aplicada a La Subcuenca Del Río Jucuapa , Matagalpa Nicaragua. CATIE. https://vdocuments.mx/identificacion-de-zonas-potenciales-de-recarga-hidrica.html?page=1.\n\n\nSáenz-López, Á. A., L. C. Bravo-Peña, M. E. Torres-Olave, and C. Alatorre-Cejudo. 2015. “Localización de Zonas Con Potencial Natural de Recarga Hídrica: Ensayo de Enfoque Multiescalar En El Acuífero Cuauhtémoc.” Memorias de Resúmenes En Extenso SELPER-XXI-México-UACJ-2015."
  },
  {
    "objectID": "Recarga_Hydrica_Aiquile.html",
    "href": "Recarga_Hydrica_Aiquile.html",
    "title": "1  Recarga Hídrica in Aiquile",
    "section": "",
    "text": "2 Frame of Reference Aiquile\nThe study took place in Aiquile, situated in the upper part of the Pucara watershed, Cochabamba’s Valle Alto region. Renowned for extensive agricultural land, Aiquile provides various produce. Additionally, water sources in the adjacent mountains serve as crucial irrigation water for other municipalities, notably Punata, situated downstream with the region’s largest population.\nAiquile has grappled with internal and inter-municipal disputes over water rights. Authorities are formulating policies focused on safeguarding recharge zones and water sources, positioning Aiquile as a pioneer in the Valle Alto region.\nDespite its geographical significance, emphasis on surface water sources has sidelined direct extraction of groundwater through wells, limiting understanding of hydrogeological processes and aquifer recharge factors. Climatic uncertainties altering precipitation patterns exacerbate water security concerns, leading to prolonged periods of water stress.\nThus, the study aims to devise a methodology for identifying potential aquifer recharge zones, considering Aiquile’s unique biophysical and social characteristics. These findings aim to support the proposed municipal policy in Aiquile.\nGiven the absence of a standardized methodology, this approach draws from Oscar Matus’ method—a cost-effective, scientific, and participatory approach adaptable to diverse scenarios. By integrating local knowledge with detailed biophysical aspects, the methodology encourages community involvement, influencing decision-making processes regarding territorial and natural resource management. Its potential replication extends regionally and nationally.\nThis Multicriteria Analysis employs numerous Raster and Vector Layers, integrating weighted factors to delineate optimal areas for natural water recharge zones (Zonas de Recarga Hídrica). The entire project is conducted within the R-Studio Environment. Key packages utilized in achieving the final results include the following, delivering essential functions for the conducted calculations.\nCode\n# libraries used\nlibrary(raster)\nlibrary(terra)\nlibrary(ggplot2)\nlibrary(tmap)\nlibrary(sf)\nlibrary(dplyr)\nlibrary(tibble)\nlibrary(knitr)\nThe following Data by worldclim.org resembles Precipitation Data on a 30 Arc Second Accuracy. The format provides one Raster-Layer for each month. The following Loop has been written in order to facilitate the Casting process.\nCode\n# LOOP\n\n# Crear una lista con los nombres de los objetos\nlista_precip &lt;- paste0(\"precip\", sprintf(\"%02d\", 1:12))  # Genera los nombres de precip01 a precip12\n\n# Inicializar una lista vacía para almacenar los resultados\nlista_precip_mask &lt;- list()\n\n# Iterar sobre cada objeto y aplicar las operaciones\nfor (i in seq_along(lista_precip)) {\n  # Acceder al objeto con el nombre correspondiente\n  precip_obj &lt;- get(lista_precip[i])\n  \n  # Aplicar las operaciones crop y mask\n  precip_crop &lt;- terra::crop(precip_obj, aiquile)\n  precip_mask &lt;- mask(precip_crop, aiquile)\n  \n  # Almacenar el resultado en la lista\n  lista_precip_mask[[i]] &lt;- precip_mask\n}\n\n# Mostrar la lista de resultados (en caso de querer acceder a cada uno)\n# lista_precip_mask\n\n# Para visualizar un objeto específico (por ejemplo, el primer objeto)\n\n# plot(lista_precip_mask[[4]])\nThe following FAO Soil Type Data available at fao.com contains Shapes in five different Categories. These have been assigned to a certain degree of Permeability of Water in (%). The Reclassification has been processed according to these values.\nCode\n# Create an empty raster to rasterize into\nempty_raster &lt;- raster(extent(dsmw_intersect), resolution = c(0.0008333333, 0.0008333333))\n\n# Convert SIMBOLO to factor\ndsmw_intersect$FAOSOIL &lt;- as.factor(dsmw_intersect$FAOSOIL)\n\n# Rasterize\nfao_raster &lt;- rasterize(dsmw_intersect, empty_raster, field = \"FAOSOIL\")\n\n# writeRaster(geo_raster, \"geo_raster.tif\", overwrite=TRUE)\n\n# vis\n# plot(geo_raster)\n\n# reclass\n# Create a tibble with the reclassification table\nreclass_table_fao &lt;- tribble(\n  ~from, ~to, ~becomes,\n  1, 1, 0.6,   \n  1, 2, 0.6,    \n  2, 3, 0.6,      \n  3, 4, 0.8,    \n  4, 5, 0.4\n)\n\n# Assuming you have a slope raster 'slope_raster'\n# Reclassify the slope raster based on the reclassification table\nfao_reclassified &lt;- reclassify(fao_raster, reclass_table_fao, include.lowest = TRUE, right = TRUE)\n\n# Align Vegetation-Raster\nfao_reclassified &lt;- rast(fao_reclassified)\n\n# Adding a new column C to the data frame\nreclass_table_fao$Class &lt;- c(\"Jordovician-Silurian and Devonian elastic rocks\", \"Paleozoic elastic rocks\", \"Paleozoic elastic rocks\", \"Quaternary unconsolidateddeposits with much volcanicmaterial, ashes and outflows, Ordovician-Silurian clasticrocks\", \"Ordovician-Silurian and Devonian clastic rocks\")\n\nreclass_table_fao$FAOSOIL &lt;- c(\"Bk2-b \", \"I-Bd-Bh-c\", \"I-Be-Lc-c\", \"I-Tv-c\", \"Lc6-c\")\n\nkable(reclass_table_fao)\n\n\n\n\n\n\n\n\n\n\n\n\nfrom\nto\nbecomes\nClass\nFAOSOIL\n\n\n\n\n1\n1\n0.6\nJordovician-Silurian and Devonian elastic rocks\nBk2-b\n\n\n1\n2\n0.6\nPaleozoic elastic rocks\nI-Bd-Bh-c\n\n\n2\n3\n0.6\nPaleozoic elastic rocks\nI-Be-Lc-c\n\n\n3\n4\n0.8\nQuaternary unconsolidateddeposits with much volcanicmaterial, ashes and outflows, Ordovician-Silurian clasticrocks\nI-Tv-c\n\n\n4\n5\n0.4\nOrdovician-Silurian and Devonian clastic rocks\nLc6-c\n\n\n\n\n\nCode\n# dsmw_intersect %&gt;% \n# ggplot(aes(fill = FAOSOIL)) +\n#   geom_sf()\n\n# check\n\ntmap_mode(\"plot\")\n\ntm_shape(fao_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"pretty\", palette = \"RdYlGn\") +\n     tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: fao.org\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )\nThe following Geology data contains Shapes in six different Categories. The Categories has been assigned to a certain degree of Permeability in (%). The Reclassification has been processed according to these values.\nCode\n# ggplot(geo_intersect, aes(fill = SIMBOLO)) +\n#   geom_sf()\n\n# Create an empty raster to rasterize into\nempty_raster &lt;- raster(extent(geo_intersect), resolution = c(0.0008333333, 0.0008333333))\n\n# Convert SIMBOLO to factor\ngeo_intersect$SIMBOLO &lt;- as.factor(geo_intersect$SIMBOLO)\n\n# Rasterize\ngeo_raster &lt;- rasterize(geo_intersect, empty_raster, field = \"SIMBOLO\")\n\n# writeRaster(geo_raster, \"geo_raster.tif\", overwrite=TRUE)\n\n# vis\n# plot(geo_raster)\n\n# reclass\n# Create a tibble with the reclassification table\nreclass_table_geo &lt;- tribble(\n  ~from, ~to, ~becomes,\n  1, 1, 0.2,    # C - Crystalline: \"C\" could represent crystalline rocks or materials, often associated with igneous or metamorphic formations.\n  1, 2, 0.4,    # D - Deposits or Duricrust:\"D\" might stand for specific deposits or duricrust, which is a hard layer formed on the ground by cementation.\n  2, 3, 1,      # K - Karst: \"K\" might be used to denote karst terrain, which is characterized by soluble bedrock, such as limestone, and features like caves and sinkholes.\n  3, 4, 0.4,    # Q - Quarternary: \"Q\" could represent a geological or environmental classification related to the Quaternary period.\n  4, 5, 0.8,    # O - Organic or Overburden: \"O\" could be associated with organic materials or overburden, referring to unconsolidated material covering bedrock.\n  5, 6, 0.8,    # S - Sedimentary: In geological or environmental contexts, \"S\" might represent sedimentary rocks or materials.\n)\n\n# Assuming you have a slope raster 'slope_raster'\n# Reclassify the slope raster based on the reclassification table\ngeo_reclassified &lt;- reclassify(geo_raster, reclass_table_geo, include.lowest = TRUE, right = TRUE)\n\n# Align Vegetation-Raster\ngeo_reclassified &lt;- rast(geo_reclassified)\n\n# Adding a new column C to the data frame\nreclass_table_geo$Class &lt;- c(\"Crystalline\", \"Deposits or Duricrust\", \"Karst\", \"Quarternary\", \"Organic or Overburden\", \"Sedimentary\")\n\nkable(reclass_table_geo)\n\n\n\n\n\nfrom\nto\nbecomes\nClass\n\n\n\n\n1\n1\n0.2\nCrystalline\n\n\n1\n2\n0.4\nDeposits or Duricrust\n\n\n2\n3\n1.0\nKarst\n\n\n3\n4\n0.4\nQuarternary\n\n\n4\n5\n0.8\nOrganic or Overburden\n\n\n5\n6\n0.8\nSedimentary\n\n\n\n\n\nCode\n# check\n\ntmap_mode(\"plot\")\n\ntm_shape(geo_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"pretty\", palette = \"RdYlGn\") +\n     tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: geo.gob.bo\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )\nThe following Vegetation data contains Shapes in four different Categories. The Vegetation has been categorized into a certain degree of Permeability in (%). The Reclassification has been processed according to these values.\nCode\n# Create an empty raster to rasterize into\nempty_raster &lt;- raster(extent(se_bo_geo_intersect), resolution = c(0.0008333333, 0.0008333333))\n\n# Rasterize\nveg_bol &lt;- rasterize(se_bo_geo_intersect, empty_raster)\n\n# writeRaster(veg_bol, \"veg_bol.tif\")\n\n# plot(veg_bol)\n# View(veg_bol)\n\n# reclass\n# Create a tibble with the reclassification table\nreclass_table_veg &lt;- tribble(\n  ~from, ~to, ~becomes,\n  1, 3, 1,           # Bosques freatófitos / Phreatophytische Wälder\n  3, 5, 0.8,         # Bosques xerofíticos interandinos y subandinos / Inter- und subandine xerophytische Wälder\n  5, 11, 0.4,        # matorral pluvial montano / montanes Pluvialgebüsch\n  11, 14, 0.2,       # matorral pluvial montano pastizal montano altimontano / altimontanes montanes Grasland\n)\n\n# Assuming you have a slope raster 'slope_raster'\n# Reclassify the slope raster based on the reclassification table\nveg_reclassified &lt;- reclassify(veg_bol, reclass_table_veg, include.lowest = TRUE, right = TRUE)\n\n# Align Vegetation-Raster\nveg_spatraster &lt;- rast(veg_reclassified)\n\n# Adding a new column C to the data frame\nreclass_table_veg$Class &lt;- c(\"Bosques freatófitos\", \"Bosques xerofíticos interandinos y subandinos\", \"matorral pluvial montano\", \"pastizal montano altimontano\")\n\n# test and print\nkable(reclass_table_veg)\n\n\n\n\n\nfrom\nto\nbecomes\nClass\n\n\n\n\n1\n3\n1.0\nBosques freatófitos\n\n\n3\n5\n0.8\nBosques xerofíticos interandinos y subandinos\n\n\n5\n11\n0.4\nmatorral pluvial montano\n\n\n11\n14\n0.2\npastizal montano altimontano\n\n\n\n\n\nCode\n# check\n\ntmap_mode(\"plot\")\n\ntm_shape(veg_spatraster, labels = \"New Legend Label\") +\n    tm_raster(style = \"cat\", palette = \"RdYlGn\") +\n     tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: geo.gob.bo\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )\nThe following Digital elevation model (DEM) contains Raster-Values from min value 1231 to the max value 3450. The Data has been transformed into Slope by the Function: terra::terrain. The Slope-Data has been categorized according to Ernesto et al. (2021) into a certain degree of Permeability in (%). The Reclassification has been processed according to these values.\nCode\n# Create a tibble with the reclassification table\nreclass_table_dem &lt;- tribble(\n  ~from, ~to, ~becomes,\n  0, 6, 1,           # Class 1: Plano a casi plano\n  6, 15, 0.75,       # Class 2: Moderadamente ondulado\n  15, 45, 0.5,       # Class 3: Ondulado/cóncavo\n  45, 65, 0.25,      # Class 4: Escarpado\n  65, Inf, 0         # Class 5: Fuertemente escarpado\n)\n\n# Assuming you have a slope raster 'slope_raster'\n# Reclassify the slope raster based on the reclassification table\ndem_reclassified &lt;- classify(terrain, reclass_table_dem, include.lowest = TRUE, right = TRUE)\n\n# Adding a new column C to the data frame\nreclass_table_dem$Class &lt;- c(\"Plano a casi plano\", \"Moderadamente ondulado\", \"Ondulado/cóncavo\", \"Escarpado\", \"Fuertemente escarpado\")\n\nkable(reclass_table_dem)\n\n\n\n\n\nfrom\nto\nbecomes\nClass\n\n\n\n\n0\n6\n1.00\nPlano a casi plano\n\n\n6\n15\n0.75\nModeradamente ondulado\n\n\n15\n45\n0.50\nOndulado/cóncavo\n\n\n45\n65\n0.25\nEscarpado\n\n\n65\nInf\n0.00\nFuertemente escarpado\n\n\n\n\n\nCode\n# change name\nnames(dem_reclassified) &lt;- \"Potencial recarga\"\n\ntmap_mode(\"plot\")\n\ntm_shape(dem_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"cat\", palette = \"RdYlGn\") +\n     tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: Hydrosheds.org\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )\nThe free to access GLAD dataset tracks changes in forests, croplands, urban areas, water bodies, and snow/ice cover globally from 2000 to 2020 at a high 30-meter resolution. Created using advanced machine learning tools, each aspect is validated separately.\nThe built-up land category includes man-made surfaces for infrastructure, commercial, and residential use. Using the CNN (U-Net) algorithm with Open Street Map data, we mapped global built-up areas in 2000 and 2020. Validation data refined the depiction of these extents and changes over time.\nThe initial dataset encompassed three distinct values, which were subsequently transformed into two categories through a reclassification procedure assessing permeability. The reclassification table, served as the framework for this transformation.\nCode\n# Create a tibble with the reclassification table\nreclass_table_land &lt;- tribble(\n  ~from, ~to, ~becomes,\n  0, 1, 1,\n  1, 2, 0,\n)\n\n# Reclassify the slope raster based on the reclassification table\nland_reclassified &lt;- classify(land_mask, reclass_table_land, include.lowest = TRUE, right = TRUE)\n\n# Adding a new column C to the data frame\nreclass_table_land$Class &lt;- c(\"sellado\",\"no sellado\")\n\nkable(reclass_table_land)\n\n\n\n\n\nfrom\nto\nbecomes\nClass\n\n\n\n\n0\n1\n1\nsellado\n\n\n1\n2\n0\nno sellado\n\n\n\n\n\nCode\n# change name\nnames(land_reclassified) &lt;- \"Land Seal Status\"\n\ntmap_mode(\"plot\")\n\nlegend_labels &lt;- c(\"1\" = \"Sealed\", \"0\" = \"Not Sealed\")\n\ntm_shape(land_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"cat\", palette = \"RdYlGn\") +\n     tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: glad.umd.edu\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )\nThe following work has been conducted by following a unique approach in order to produce the most insightfull and easy to understand product possible. The final coloring and hierarchically structuring of the final four classes have been ordered according to the unique values the analysis has been produced.\nThese results are reasonable, since the variables that best explain water inﬁltration according to this method are, precisely, low slopes and high vegetation cover. In contrast, the areas classiﬁed with low recharge probability values mostly coincide with steep slopes, poor vegetation cover, and unfavorable land uses.\nThe study area analysis, based on field observations, revealed that potential groundwater recharge zones, as per the Matus (2007) method, predominantly existed within Eucalyptus forests. The introduction of non-native species like Eucalyptus is a common land use practice globally, aiming to enhance environmental benefits. However, concerns have been raised regarding adverse effects, notably water loss in the basin’s hydrological balance, water repellency in soils, increased evapotranspiration, and reduced groundwater recharge and river discharge rates due to the deep-rooted nature of these species Rodriguez-Levy et al. (2023).\nThere are several examples of the beneﬁts of ﬂoristic characteristics on the storage and inﬁltration of water (Ramírez et al. 2018; Bonnesoeur, Locatelli, and Ochoa-Tocachi 2019; Ellison et al. 2017; Le Maitre, Scott, and Colvin 1999), but more recently, a more critical vision has been adopted in which various elements of the vegetation cover are considered factors to the detriment of groundwater recharge (Blanco 2017; Acharya et al. 2018; Ilstedt et al. 2016).\nThis study aimed to identify potential aquifer recharge zones in the Canton of Aiquile´s located in the State of Cochabamba (Bolivia). By exploring various geospatial datasets, including terrain attributes, geological features, vegetation patterns, land use, precipitation records, soil classifications by the FAO, and satellite-derived NDVI. Each dataset was analyzed using predetermined weights, emphasizing their relative importance in the study.\nIn conducting this Multicriteria Analysis, the numerous Raster and Vector Layers were integrated, using weighted factors to delineate optimal areas for natural water recharge zones (Spanish: Zonas de Recarga Hídrica). The project utilized the R-Studio Environment, leveraging key packages crucial for these calculations.\nThis resultant raster (see Figure 12.1) encapsulates a comprehensive representation of the region’s environmental aspects, depicting their intricate interplay. The methodology seeks to identify aquifer recharge zones considering Pasorapa’s unique characteristics. It aims to support local policymaking, drawing from Matus (2007) adaptable approach."
  },
  {
    "objectID": "Recarga_Hydrica_Aiquile.html#data-aiquile",
    "href": "Recarga_Hydrica_Aiquile.html#data-aiquile",
    "title": "1  Recarga Hídrica in Aiquile",
    "section": "3.1 Data Aiquile",
    "text": "3.1 Data Aiquile\nThe Following Data has been used:\n\nCode\n# Your code for reading shapefiles and rasters\n\n# Creating a table\nshapes &lt;- c(\"Political Map\", \"Geology\", \"Vegetation\", \"Precipitation\", \"DEM\", \"Land Use\",\" Satellite Data\")\ndata_type &lt;- c(\"Vector\", \"Vector\", \"Vector\", \"Raster\", \"Raster\", \"Raster\", \"Raster\")\n\nsources &lt;- c(\"[gadm.org](https://gadm.org/download_country.html)\", \"[geo.gob.bo](https://geo.gob.bo/portal/#catalog)\", \"[geo.gob.bo](https://geo.gob.bo/portal/#catalog)\", \n             \"[worldclim.org](https://www.worldclim.org/data/worldclim21.html)\", \n             \"[Hydrosheds.org](https://www.hydrosheds.org/hydrosheds-core-downloads)\", \n             \"[GLAD dataset](https://glad.umd.edu/dataset/GLCLUC2020)\", \"[glovis.usgs.gov](https://glovis.usgs.gov/app)\")\n\n# Repeat the sources based on the number of shapes\nrepeated_sources &lt;- rep(sources, length.out = length(shapes))\n\ndata &lt;- data.frame(Shape_Raster = shapes, Data_Type = data_type, Sources = repeated_sources)\ncolnames(data) &lt;- c(\"Data Name\", \"Data Type\", \"Sources\")\n\nkable(data)\n\n\n\n\n\nData Name\nData Type\nSources\n\n\n\n\nPolitical Map\nVector\ngadm.org\n\n\nGeology\nVector\ngeo.gob.bo\n\n\nVegetation\nVector\ngeo.gob.bo\n\n\nPrecipitation\nRaster\nworldclim.org\n\n\nDEM\nRaster\nHydrosheds.org\n\n\nLand Use\nRaster\nGLAD dataset\n\n\nSatellite Data\nRaster\nglovis.usgs.gov\n\n\n\n\n\nCode\n# Read data and crop to Aiquile\n# read data \n\n## shapes\nbol &lt;- read_sf(\"gadm41_BOL_3.shp\") # Aiquile extent\n# veg &lt;- read_sf(\"veg_nv_bol_geo.shp\") # Vegetation\n# geo &lt;- read_sf(\"Geologia.shp\") # Geografia\ngeo   &lt;- read_sf(\"Geologia.dbf\")   # Geografia\n\ndsmw  &lt;- read_sf(\"DSMW.shp\",crs = 4326)\n\n# other kind of vegetation\nse_bo_geo &lt;- read_sf(\"se_bo_geo.shp\")\n\n# precipitacion\nprecip01 &lt;- rast(\"wc2.1_30s_prec_01.tif\")\nprecip02 &lt;- rast(\"wc2.1_30s_prec_02.tif\")\nprecip03 &lt;- rast(\"wc2.1_30s_prec_03.tif\")\nprecip04 &lt;- rast(\"wc2.1_30s_prec_04.tif\")\nprecip05 &lt;- rast(\"wc2.1_30s_prec_05.tif\")\nprecip06 &lt;- rast(\"wc2.1_30s_prec_06.tif\")\nprecip07 &lt;- rast(\"wc2.1_30s_prec_07.tif\")\nprecip08 &lt;- rast(\"wc2.1_30s_prec_08.tif\")\nprecip09 &lt;- rast(\"wc2.1_30s_prec_09.tif\")\nprecip10 &lt;- rast(\"wc2.1_30s_prec_10.tif\")\nprecip11 &lt;- rast(\"wc2.1_30s_prec_11.tif\")\nprecip12 &lt;- rast(\"wc2.1_30s_prec_12.tif\")\n\n## raster\ndem &lt;- rast(\"s20w070_dem.tif\")\n\n# Land Use\nland &lt;- rast(\"Change_10S_070W.tif\")\n\n\n3.1.1 Data Processing\nThe Data is being filtered by the Frame of reference. Vegetation Data has been filtered to “Cochabamba”. The Frames are being intersected by the Frame of Reference - The Aiquile-Shape.\n\n\nCode\n# Filter, crop and mask raster\n# filter der bol shapes\naiquile   &lt;- bol %&gt;% filter(NAME_3 == \"Aiquile\")\n\nwrite_sf(aiquile, \"aiquile.shp\")\n\n# st_write(nc, paste0(tempdir(), \"/\", \"nc.shp\"))\n\n# DEM\n##  crop and mask dem\ndem_crop &lt;- terra::crop(dem, aiquile)\ndem_mask &lt;- mask(dem_crop, aiquile)\n\n## terrain\nterrain  &lt;- terrain(dem_mask)\n\n# land\n##  crop and mask dem\nland_crop &lt;- terra::crop(land, aiquile)\nland_mask &lt;- mask(land_crop, aiquile)\n\n\n### Intersections Geo, Veg, se_bo_geo\n# GEO\n# crop and mask geo\nsf_use_s2(FALSE) # quick fix\ngeo_intersect  &lt;- sf::st_intersection(geo, aiquile)\n\n# Digital Soil Map of the World\n\ndsmw_intersect  &lt;- sf::st_intersection(dsmw, aiquile)\n\n# dsmw_intersect %&gt;% \n# ggplot(aes(fill = FAOSOIL)) +\n#   geom_sf()\n\n\n# VEG\n# filter a cocha\n# veg_cocha &lt;- veg %&gt;% filter(NOM_DEP == \"Cochabamba\")\n\n# VEG\n# crop and mask veg\n# veg_intersect  &lt;- sf::st_intersection(veg_cocha, aiquile)\n\n# veg_intersect_frame &lt;- as.data.frame(veg_intersect)\n# \n# veg_intersect_frame %&gt;% select(3) %&gt;% kable()\n\n# VIS\n# veg_intersect %&gt;%\n#   ggplot(aes(fill = DESCRIP)) +\n#   geom_sf()\n\n# se_bo_geo\nse_bo_geo_intersect  &lt;- sf::st_intersection(se_bo_geo, aiquile)\n\n# se_bo_geo_frame &lt;- as.data.frame(se_bo_geo_intersect)\n\n#VIS Column\n# se_bo_geo_frame %&gt;% select(3) %&gt;% kable()\n\n# VIS\n# se_bo_geo_intersect %&gt;%\n#   ggplot(aes(fill = DESC_SIS)) +\n#   geom_sf() +\n#   theme(legend.position=\"none\")"
  },
  {
    "objectID": "Recarga_Hydrica_Aiquile.html#vegetation-indices-calculation",
    "href": "Recarga_Hydrica_Aiquile.html#vegetation-indices-calculation",
    "title": "1  Recarga Hídrica in Aiquile",
    "section": "4.1 Vegetation Indices calculation",
    "text": "4.1 Vegetation Indices calculation\nThe Normalized Difference Vegetation Index (NDVI) is a pivotal tool in assessing vegetation health and density using remote sensing data, in this case from satellite imagery. Computed by measuring the contrast between visible and near-infrared light reflected by vegetation, NDVI values range between -1 and 1.\nNDVI’s application spans various fields. In agriculture, it aids in monitoring crop health and detecting areas requiring attention, such as water stress or disease outbreaks. Ecologists employ NDVI to analyze changes in ecosystems, tracking deforestation or assessing habitat health. Higher values of the NDVI signify dense, healthy vegetation, while lower values indicate barren land or water bodies. Therefore there is a strong positive correlation between NDVI and biomass according to Khaple et al. (2021).\n\n\nCode\n# Band Calc\n# Set Color Bands 1\ngreen_band  &lt;- rast(\"LM05_L1TP_232073_19860801_20200831_02_T2_B1.TIF\")  # green wavelenght range of 500-600 nanometers.\nred_band    &lt;- rast(\"LM05_L1TP_232073_19860801_20200831_02_T2_B2.TIF\")  # red wavelength range, around 600-700 nanometers.\nnir_band    &lt;- rast(\"LM05_L1TP_232073_19860801_20200831_02_T2_B3.TIF\")  # near-infrared light, approximately in the range of 700-1100 nanometers.\nswir_band   &lt;- rast(\"LM05_L1TP_232073_19860801_20200831_02_T2_B4.TIF\") # combination of visible and shortwave-infrared wavelengths.\n\n# Set Color Bands 2\ngreen_band_1  &lt;- rast(\"LM05_L1TP_232072_19860801_20200831_02_T2_B1.TIF\")  # green wavelenght range of 500-600 nanometers.\nred_band_1    &lt;- rast(\"LM05_L1TP_232072_19860801_20200831_02_T2_B2.TIF\")   # red wavelength range, around 600-700 nanometers.\nnir_band_1    &lt;- rast(\"LM05_L1TP_232072_19860801_20200831_02_T2_B3.TIF\")  # near-infrared light, approximately in the range of 700-1100 nanometers.\nswir_band_1   &lt;- rast(\"LM05_L1TP_232072_19860801_20200831_02_T2_B4.TIF\") # combination of visible and shortwave-infrared wavelengths.\n\n# Calculate NDVI\nndvi &lt;- (nir_band - red_band) / (nir_band + red_band)\n\n# Calculate NDVI\nndvi_1 &lt;- (nir_band_1 - red_band_1) / (nir_band_1 + red_band_1)\n\nndvi_full &lt;- merge(ndvi, ndvi_1)\n\n  # writeRaster(ndvi_full, \"ndvi_full.tif\")\n\n# Transform the SpatRaster to the CRS of the polygon\n# ndvi_same_crs &lt;- project(ndvi_full, crs(aiquile))\n    ndvi_wgs84 &lt;- project(ndvi_full, \"EPSG:4326\")\n\n# Aplicar las operaciones crop y mask\n  ndvi_crop &lt;- terra::crop(ndvi_wgs84, aiquile)\n  ndvi_mask &lt;- mask(ndvi_crop, aiquile)\n\n# Plot NDVI\nplot(ndvi_mask,  main = \"Normalized Difference Vegetation Index (NDVI)\")"
  },
  {
    "objectID": "Recarga_Hydrica_Aiquile.html#reclassification-ndvi-index",
    "href": "Recarga_Hydrica_Aiquile.html#reclassification-ndvi-index",
    "title": "1  Recarga Hídrica in Aiquile",
    "section": "4.2 Reclassification NDVI-Index",
    "text": "4.2 Reclassification NDVI-Index\n\n\nCode\n# read data\n# ndvi_full_mask &lt;- rast(\"ndvi_full_mask.tif\")\n\n# Reclass\n# Create a tibble with the reclassification table\nreclass_table_indice &lt;- tribble(\n  ~from, ~to, ~becomes,\n  -Inf, 0, 0.2,\n  0, 0.05, 0.4,\n  0.05, 0.2, 0.6,\n  0.2, Inf, 1\n)\n\n# Reclassify the slope raster based on the reclassification table\nndvi_reclassified &lt;- terra::classify(ndvi_mask, reclass_table_indice, include.lowest = TRUE, right = TRUE)\n\n# change name\nnames(ndvi_mask) &lt;- \"Potencial de Recarga\"\n\n# check\n\ntmap_mode(\"plot\")\n\ntm_shape(ndvi_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"pretty\", palette = \"RdYlGn\") +\n     tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: earthdata.nasa.gov\", fontface = \"italic\", align = \"left\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )"
  },
  {
    "objectID": "Recarga_Hydrica_Aiquile.html#processing-precipitation",
    "href": "Recarga_Hydrica_Aiquile.html#processing-precipitation",
    "title": "1  Recarga Hídrica in Aiquile",
    "section": "5.1 Processing Precipitation",
    "text": "5.1 Processing Precipitation\nThe following 12 Raster-Layers have been summed to ensure we have one Raster for further classification. The Result is one Raster-Layer that contains the complete Precipitation of the average year from 1970-2000.\n\n\nCode\n# Use the first raster as a base for the sum\nsum_raster &lt;- lista_precip_mask[[1]]\n\n# Loop through the remaining rasters and add their values to the sum_raster\nfor (i in 2:length(lista_precip_mask)) {\n  sum_raster &lt;- sum_raster + lista_precip_mask[[i]]\n}\n\n# writeRaster(sum_raster, \"sum_raster.tif\")\n\n# Show the summary of the resulting raster\n# summary(sum_raster)\n# plot(sum_raster)"
  },
  {
    "objectID": "Recarga_Hydrica_Aiquile.html#reclass-precipitation",
    "href": "Recarga_Hydrica_Aiquile.html#reclass-precipitation",
    "title": "1  Recarga Hídrica in Aiquile",
    "section": "5.2 Reclass Precipitation",
    "text": "5.2 Reclass Precipitation\n\n\nCode\n# Create a tibble with the reclassification table\nreclass_table_precip &lt;- tribble(\n  ~from, ~to, ~becomes,\n  650,    Inf,  1,      # 650 to Inf becomes 1\n  600,    650,  0.75,   # 600 to 650 becomes 0.75\n  550,    600,  0.5,    # 550 to 600 becomes 0.5\n  500,    550,  0.25,   # 500 to 550 becomes 0.25\n  -Inf,   500,  0       # -Inf to 500 becomes 0\n)\n\n# Assuming you have a slope raster 'slope_raster'\n# Reclassify the slope raster based on the reclassification table\nprecip_reclassified &lt;- classify(sum_raster, reclass_table_precip, include.lowest = TRUE, right = TRUE)\n\nkable(reclass_table_precip)\n\n\n\n\n\nfrom\nto\nbecomes\n\n\n\n\n650\nInf\n1.00\n\n\n600\n650\n0.75\n\n\n550\n600\n0.50\n\n\n500\n550\n0.25\n\n\n-Inf\n500\n0.00\n\n\n\n\n\nCode\n# change name\nnames(precip_reclassified) &lt;- \"Potencial recarga\"\n\ntmap_mode(\"plot\")\n\ntm_shape(precip_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"pretty\", palette = \"RdYlGn\") +\n     tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: worldclim.org\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )"
  },
  {
    "objectID": "Recarga_Hydrica_Aiquile.html#raster-calculation",
    "href": "Recarga_Hydrica_Aiquile.html#raster-calculation",
    "title": "1  Recarga Hídrica in Aiquile",
    "section": "12.1 Raster Calculation",
    "text": "12.1 Raster Calculation\nThe final Raster Calculation is being conducted according to the following table.\n\n\nCode\n# Align resolutions (resample veg)\nveg_resampled &lt;- resample(veg_spatraster, dem_reclassified)\n\n# Align resolutions (resample geo)\ngeo_reclassified &lt;- resample(geo_reclassified, veg_resampled)\n\n# Align resolutions (resample land)\nland_reclassified &lt;- resample(land_reclassified, geo_reclassified)\n\n# Align resolutions (resample land)\nprecip_reclassified &lt;- resample(precip_reclassified, land_reclassified)\n\n# Align resolutions (resample land)\nfao_reclassified &lt;- resample(fao_reclassified, precip_reclassified)\n\n# Align resolutions (resample land)\nndvi_reclassified &lt;- resample(ndvi_reclassified, fao_reclassified)\n\n# final calc\n# raster_final &lt;- (dem_reclassified + veg_resampled + geo_reclassified + land_reclassified + precip_reclassified) / 5\n\n# ZR (zona de recarga) = [0.27*(Pend)+0.23*(Ts)+0.12*(Tr)+0.25*(Cve)+0.13* (Us)]\n\n# final_raster = 0.345*(dem_reclassified)+0.19*(geo_reclassified)+0.32*(veg_resampled)+0.2*(land_reclassified) + (precip_reclassified)\n\n# Adjusted weights\nweight_dem    &lt;- 0.25\nweight_geo    &lt;- 0.15\nweight_veg    &lt;- 0.05\nweight_land   &lt;- 0.1\nweight_precip &lt;- 0.1\nweight_fao    &lt;- 0.1\nweight_sat    &lt;- 0.25\n\n# Perform the adjusted weighted combination\nfinal_raster &lt;- weight_dem    * dem_reclassified +\n                weight_geo    * geo_reclassified +\n                weight_veg    * veg_resampled +\n                weight_land   * land_reclassified +\n                weight_precip * precip_reclassified +\n                weight_fao    * fao_reclassified +\n                weight_sat    * ndvi_reclassified\n\n\n# Define the weights and data\nweights &lt;- c(0.25, 0.15, 0.05, 0.1, 0.1, 0.1, 0.25)\ndata_names &lt;- c(\"DEM\", \"Geology\", \"Vegetation\", \"Land Use\", \"Precipitation\", \"Soil Type by the FAO\", \"Satellite-born NDVI\")\n\n# Create the table\ntable_data &lt;- data.frame(Weight = weights, Data = data_names)\n\n# Show the table\nkable(table_data)\n\n\n\n\n\nWeight\nData\n\n\n\n\n0.25\nDEM\n\n\n0.15\nGeology\n\n\n0.05\nVegetation\n\n\n0.10\nLand Use\n\n\n0.10\nPrecipitation\n\n\n0.10\nSoil Type by the FAO\n\n\n0.25\nSatellite-born NDVI"
  },
  {
    "objectID": "Recarga_Hydrica_Aiquile.html#reclass-final-result",
    "href": "Recarga_Hydrica_Aiquile.html#reclass-final-result",
    "title": "1  Recarga Hídrica in Aiquile",
    "section": "12.2 Reclass Final Result",
    "text": "12.2 Reclass Final Result\nThe following Map shows the potential of water-recharge across Aiquile according to the previous settings and classificacions in four different Classes: “Very low”, “low”, “Moderate” and “High”.\n\n\nCode\n# Define breaks and labels for the reclassification\nbreaks &lt;- c(0, 0.63, 0.65, 0.74, 1)\nlabels &lt;- c(\"Muy baja\", \"Baja\", \"Moderata\", \"Alta\")\n\n# Cut the raster values into categorical factors\nfactor_raster &lt;- cut(values(final_raster), breaks = breaks, labels = labels, include.lowest = TRUE)\n\n# Use dplyr's recode to change the factor levels based on the breaks and labels\n\nfactor_raster &lt;- factor_raster %&gt;% \n  recode(\"Muy baja\" = \"Alta\", \"Baja\" = \"Moderata\", \"Moderata\" = \"Baja\", \"Alta\" = \"Muy baja\")\n\n# change name\nnames(final_raster) &lt;- \"Potencial de Recarga\"\n\n# Create a new raster with categorized values\nr_categorized &lt;- final_raster\nvalues(r_categorized) &lt;- as.character(factor_raster)\n\n# view\ntmap_mode(\"plot\")\n\ntm_shape(r_categorized, labels = \"New Legend Label\") +\n    tm_raster(style = \"cont\", palette = \"RdYlGn\", breaks = breaks, labels = labels) +\n     tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Author: Johannes Quente\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )\n\n\n\n\n\nFigure 12.1: Map of Zones with Water Recharge Potential in Four Classes of Aiquile"
  },
  {
    "objectID": "Recarga_Hydrica_Aiquile.html#interactive-visualization",
    "href": "Recarga_Hydrica_Aiquile.html#interactive-visualization",
    "title": "1  Recarga Hídrica in Aiquile",
    "section": "12.3 Interactive Visualization",
    "text": "12.3 Interactive Visualization\nThis interactive Map shows only the values (“low”, “moderate”, “high”) with different maps in the backround provided by Leaflet.\n\n\nCode\n# Define breaks and labels for the reclassification\nbreaks &lt;- c(0.63, 0.65, 0.74, 1)\nlabels &lt;- c(\"Baja\", \"Moderata\", \"Alta\")\n\n# change name\nnames(final_raster) &lt;- \"Potencial de Recarga\"\n\n# Cut the raster values into categorical factors\nfactor_raster &lt;- cut(values(final_raster), breaks = breaks, labels = labels, include.lowest = TRUE)\n\n# Use dplyr's recode to change the factor levels based on the breaks and labels\n\nfactor_raster &lt;- factor_raster %&gt;% \n  recode(\"Muy baja\" = \"Alta\", \"Baja\" = \"Moderata\", \"Moderata\" = \"Baja\", \"Alta\" = \"Muy baja\")\n\n# Create a new raster with categorized values\nr_categorized &lt;- final_raster\nvalues(r_categorized) &lt;- as.character(factor_raster)\n\n# view\ntmap_mode(\"view\")\n\ntm_shape(r_categorized, labels = \"New Legend Label\") +\n    tm_raster(style = \"cont\", palette = \"YlGn\", breaks = breaks, labels = labels, alpha = 0.8) +\ntm_basemap(c(\"Esri.WorldImagery\", \"OpenStreetMap.Mapnik\")) +\n  tm_minimap()\n\n\n\n\n\nFigure 12.2: Map of Zones with Water Recharge Potential in three Classes of Pasorapa\n\n\n\n\n\n\n\n\n\nAcharya, B. S., G. Kharel, C. B. Zou, B. P. Wilcox, and T. Halihan. 2018. “Woody Plant Encroachment Impacts on Groundwater Recharge: A Review.” Water 10: 1466.\n\n\nBlanco, J. A. 2017. “Bosques, Suelo y Agua: Explorando Sus Interacciones.” Ecosistemas 26: 1–9.\n\n\nBonnesoeur, V., B. Locatelli, and B. F. Ochoa-Tocachi. 2019. Impactos de La Forestación En El Agua y Los Suelos de Los Andes: Qué Sabemos? Resumen de Políticas. Lima, Perú: Proyecto “Infraestructura Natural Para La Seguridad Hídrica” (INSH).\n\n\nEllison, D., C. E. Morris, B. Locatelli, D. Sheil, J. Cohen, D. Murdiyarso, V. Gutierrez, et al. 2017. “Trees, Forests and Water: Cool Insights for a Hot World.” Glob. Environ. Chang. 43: 51–61.\n\n\nErnesto, Inti, Rodriguez Levy, Miguel Ángel, and Centella Levy. 2021. “Informe: Determinación de Zonas Potenciales de Recarga Hídrica Para La Cuenca Virvini, Municipio de Tiraque.” Cochabamba, Bolivia: Universidad Católica Boliviana Cochabamba, Centro de investigación en Ciencias Exactas e Ingenierías. https://www.mdpi.com/2073-4441/15/7/1268.\n\n\nIlstedt, U., A. Bargués Tobella, H. R. Bazié, J. Bayala, E. Verbeeten, G. Nyberg, J. Sanou, et al. 2016. “Intermediate Tree Cover Can Maximize Groundwater Recharge in the Seasonally Dry Tropics.” Sci. Rep. 6: 21930.\n\n\nKhaple, Anil Kumar, Guddappa M. Devagiri, Naveen Veerabhadraswamy, Sanjay Babu, and Shashi Bhushan Mishra. 2021. “Chapter 6 - Vegetation Biomass and Carbon Stock Assessment Using Geospatial Approach.” In Forest Resources Resilience and Conflicts, edited by Pravat Kumar Shit, Hamid Reza Pourghasemi, Partha Pratim Adhikary, Gouri Sankar Bhunia, and Vishwambhar Prasad Sati, 77–91. Elsevier. https://doi.org/10.1016/B978-0-12-822931-6.00006-X.\n\n\nLe Maitre, D. C., D. F. Scott, and C. Colvin. 1999. “A Review of Information on Interactions Between Vegetation and Groundwater.” Water SA 25: 137–52.\n\n\nMatus, O. 2007. Elaboración Participativa de Una Metodología Para La Identificación de Zonas Potenciales de Recarga Hídrica En Subcuencas Hidrográficas , Aplicada a La Subcuenca Del Río Jucuapa , Matagalpa Nicaragua. CATIE. https://vdocuments.mx/identificacion-de-zonas-potenciales-de-recarga-hidrica.html?page=1.\n\n\nRamírez, E. J., C. Sánchez, M. Enríquez, and M. Gutiérrez. 2018. “Identificación de Sitios Potenciales de Recarga de Acuíferos Mediante Uso de Vehículos Aéreos No Tripulados En La Universidad Del Mar Campus Puerto Ángel.” Cienc. Mar 21: 13–18.\n\n\nRodriguez-Levy, Inti E., Miguel A. Centellas-Levy, Wanderley J. Ferreira, Syed Md Touhidul Mustafa, Lilian Rivera-Rodriguez, Andres Gonzales Amaya, and Marijke Huysmans. 2023. “Development and Application of a Methodology for the Identification of Potential Groundwater Recharge Zones: A Case Study in the Virvini Micro-Basin, Tiraque, Bolivia.” Water 2023, Vol. 15, Page 1268 15 (March): 1268. https://doi.org/10.3390/W15071268."
  },
  {
    "objectID": "Pasorapa.html",
    "href": "Pasorapa.html",
    "title": "2  Recarga Hídrica in Pasorapa",
    "section": "",
    "text": "3 Frame of Reference Pasorapa\nThe study took place in Pasorapa, situated in the upper part of the Pucara watershed, Cochabamba’s Valle Alto region. Renowned for extensive agricultural land, Pasorapa provides various produce. Additionally, water sources in the adjacent mountains serve as crucial irrigation water for other municipalities, notably Punata, situated downstream with the region’s largest population.\nPasorapa has grappled with internal and inter-municipal disputes over water rights. Authorities are formulating policies focused on safeguarding recharge zones and water sources, positioning Pasorapa as a pioneer in the Valle Alto region.\nDespite its geographical significance, emphasis on surface water sources has sidelined direct extraction of groundwater through wells, limiting understanding of hydrogeological processes and aquifer recharge factors. Climatic uncertainties altering precipitation patterns exacerbate water security concerns, leading to prolonged periods of water stress.\nThus, the study aims to devise a methodology for identifying potential aquifer recharge zones, considering Pasorapa’s unique biophysical and social characteristics. These findings aim to support the proposed municipal policy in Pasorapa.\nGiven the absence of a standardized methodology, this approach draws from Oscar Matus’ method—a cost-effective, scientific, and participatory approach adaptable to diverse scenarios. By integrating local knowledge with detailed biophysical aspects, the methodology encourages community involvement, influencing decision-making processes regarding territorial and natural resource management. Its potential replication extends regionally and nationally.\nThis Multicriteria Analysis employs numerous Raster and Vector Layers, integrating weighted factors to delineate optimal areas for natural water recharge zones (Spanish: Zonas de Recarga Hídrica). The entire project is conducted within the R-Studio Environment. Key packages utilized in achieving the final results include the following, delivering essential functions for the conducted calculations.\nCode\n# read libraries\nlibrary(raster)\nlibrary(terra)\nlibrary(ggplot2)\nlibrary(tmap)\nlibrary(sf)\nlibrary(dplyr)\nlibrary(tibble)\nlibrary(knitr)\nThe following Data by worldclim.org resembles Precipitation Data on a 30 Arc Second Accuracy. The format provides one Raster-Layer for each month. The following Loop has been written in order to facilitate the Casting process.\nCode\n# LOOP\n\n# Crear una lista con los nombres de los objetos\nlista_precip &lt;- paste0(\"precip\", sprintf(\"%02d\", 1:12))  # Genera los nombres de precip01 a precip12\n\n# Inicializar una lista vacía para almacenar los resultados\nlista_precip_mask &lt;- list()\n\n# Iterar sobre cada objeto y aplicar las operaciones\nfor (i in seq_along(lista_precip)) {\n  # Acceder al objeto con el nombre correspondiente\n  precip_obj &lt;- get(lista_precip[i])\n  \n  # Aplicar las operaciones crop y mask\n  precip_crop &lt;- terra::crop(precip_obj, Pasorapa)\n  precip_mask &lt;- mask(precip_crop, Pasorapa)\n  \n  # Almacenar el resultado en la lista\n  lista_precip_mask[[i]] &lt;- precip_mask\n}\n\n# Mostrar la lista de resultados (en caso de querer acceder a cada uno)\n# lista_precip_mask\n\n# Para visualizar un objeto específico (por ejemplo, el primer objeto)\n\n# plot(lista_precip_mask[[4]])\n\n\n# Use the first raster as a base for the sum\nsum_raster &lt;- lista_precip_mask[[1]]\n\n# Loop through the remaining rasters and add their values to the sum_raster\nfor (i in 2:length(lista_precip_mask)) {\n  sum_raster &lt;- sum_raster + lista_precip_mask[[i]]\n}\n\n# writeRaster(sum_raster, \"sum_raster_pasorapa.tif\")\n# Show the summary of the resulting raster\n# summary(sum_raster)\n# plot(sum_raster)\nThe following FAO Soil Type Data available at fao.com contains Shapes in five different Categories. These have been assigned to a certain degree of Permeability of Water in (%). The Reclassification has been processed according to these values.\nCode\n# Create an empty raster to rasterize into\nempty_raster &lt;- raster(extent(dsmw_intersect), resolution = c(0.0008333333, 0.0008333333))\n\n# Convert SIMBOLO to factor\ndsmw_intersect$FAOSOIL &lt;- as.factor(dsmw_intersect$FAOSOIL)\n\n# Rasterize\nfao_raster &lt;- rasterize(dsmw_intersect, empty_raster, field = \"FAOSOIL\")\n\n# writeRaster(geo_raster, \"geo_raster.tif\", overwrite=TRUE)\n\n# reclass\n# Create a tibble with the reclassification table\nreclass_table_fao &lt;- tribble(\n  ~from, ~to, ~becomes,\n  1, 1, 1,   \n  1, 2, 0.8,    \n  2, 3, 0.8,      \n  3, 4, 0.4,\n)\n\n# Assuming you have a slope raster 'slope_raster'\n# Reclassify the slope raster based on the reclassification table\nfao_reclassified &lt;- reclassify(fao_raster, reclass_table_fao, include.lowest = TRUE, right = TRUE)\n\n# Align Vegetation-Raster\nfao_reclassified &lt;- rast(fao_reclassified)\n\n# Adding a new column C to the data frame\nreclass_table_fao$Class &lt;- c(\"Permo-Carboniferous one Tertiary elastic rocks\", \"Paleozoic elastic rocks\", \"Devonian clastic rocks\", \"Ordovician-Silurian and Devonian clastic rocks\")\n\nreclass_table_fao$FAOSOIL &lt;- c(\"Bk2-b \", \"I-Bd-Bh-c\", \"Lc2-3b\", \"Lc6-c\")\n\nkable(reclass_table_fao)\n\n\n\n\n\n\n\n\n\n\n\n\nfrom\nto\nbecomes\nClass\nFAOSOIL\n\n\n\n\n1\n1\n1.0\nPermo-Carboniferous one Tertiary elastic rocks\nBk2-b\n\n\n1\n2\n0.8\nPaleozoic elastic rocks\nI-Bd-Bh-c\n\n\n2\n3\n0.8\nDevonian clastic rocks\nLc2-3b\n\n\n3\n4\n0.4\nOrdovician-Silurian and Devonian clastic rocks\nLc6-c\n\n\n\n\n\nCode\n# check\n\ntmap_mode(\"plot\")\n\ntm_shape(fao_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"pretty\", palette = \"RdYlGn\") +\n     tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9, position = c(\"left\")) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: fao.org\", fontface = \"italic\", align = \"left\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )\nThe following Geology data contains Shapes in six different Categories. The Categories has been assigned to a certain degree of Permeability in (%). The Reclassification has been processed according to these values.\nCode\n# ggplot(geo_intersect, aes(fill = SIMBOLO)) +\n#   geom_sf()\n\n# Create an empty raster to rasterize into\nempty_raster &lt;- raster::raster(extent(geo_intersect), resolution = c(0.0008333333, 0.0008333333))\n\nempty_raster &lt;- rast(empty_raster)\n\n# Convert SIMBOLO to factor\n# geo_intersect$SIMBOLO &lt;- as.factor(geo_intersect$SIMBOLO)\n\n# Rasterize\ngeo_raster &lt;- terra::rasterize(geo_intersect, empty_raster, field = \"SIMBOLO\", fun = mean)\n\n# writeRaster(geo_raster, \"geo_raster.tif\", overwrite=TRUE)\n\n# vis\n# plot(geo_raster)\n\n# reclass\n# Create a tibble with the reclassification table\nreclass_table_geo &lt;- tribble(\n  ~from, ~to, ~becomes,\n  0, 0, 0.2,    # C - Crystalline: \"C\" could represent crystalline rocks or materials, often associated with igneous or metamorphic formations.\n  0, 1, 0.4,    # D - Deposits or Duricrust:\"D\" might stand for specific deposits or duricrust, which is a hard layer formed on the ground by cementation.\n  1, 2, 1,      # K - Karst: \"K\" might be used to denote karst terrain, which is characterized by soluble bedrock, such as limestone, and features like caves and sinkholes.\n  2, 3, 0.4,    # Q - Quarternary: \"Q\" could represent a geological or environmental classification related to the Quaternary period.\n  3, 4, 0.8,    # O - Organic or Overburden: \"O\" could be associated with organic materials or overburden, referring to unconsolidated material covering bedrock.\n  4, 5, 0.8,    # S - Sedimentary: In geological or environmental contexts, \"S\" might represent sedimentary rocks or materials.\n)\n\n# Assuming you have a slope raster 'slope_raster'\n# Reclassify the slope raster based on the reclassification table\ngeo_reclassified &lt;- classify(geo_raster, reclass_table_geo, include.lowest = TRUE, right = TRUE)\n\n\n# Adding a new column C to the data frame\nreclass_table_geo$Class &lt;- c(\"Crystalline\", \"Deposits or Duricrust\", \"Karst\", \"Quarternary\", \"Organic or Overburden\", \"Sedimentary\")\n\nkable(reclass_table_geo)\n\n\n\n\n\nfrom\nto\nbecomes\nClass\n\n\n\n\n0\n0\n0.2\nCrystalline\n\n\n0\n1\n0.4\nDeposits or Duricrust\n\n\n1\n2\n1.0\nKarst\n\n\n2\n3\n0.4\nQuarternary\n\n\n3\n4\n0.8\nOrganic or Overburden\n\n\n4\n5\n0.8\nSedimentary\n\n\n\n\n\nCode\n# check\n\ntmap_mode(\"plot\")\n\ntm_shape(geo_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"pretty\", palette = \"RdYlGn\") +\n    tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9, position = c(\"left\")) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: geo.gob.bo\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )\nThe following Vegetation data contains Shapes in four different Categories. The Vegetation has been categorized into a certain degree of Permeability in (%). The Reclassification has been processed according to these values.\nCode\n# Create an empty raster to rasterize into\nempty_raster &lt;- raster(extent(se_bo_geo_intersect), resolution = c(0.0008333333, 0.0008333333))\n\n# Rasterize\nveg_bol &lt;- rasterize(se_bo_geo_intersect, empty_raster)\n\n# writeRaster(veg_bol, \"veg_bol.tif\")\n\n# plot(veg_bol)\n# View(veg_bol)\n\n# reclass\n# Create a tibble with the reclassification table\nreclass_table_veg &lt;- tribble(\n  ~from, ~to, ~becomes,\n  1, 3, 1,           # Bosques freatófitos / Phreatophytische Wälder\n  3, 5, 0.8,         # Bosques xerofíticos interandinos y subandinos / Inter- und subandine xerophytische Wälder\n  5, 11, 0.4,        # Matorrales pluviestacionales montanos / montanes Pluvialgebüsch\n  11, 14, 0.2,       # Pajonales altimontanos / altimontanes montanes Grasland\n)\n\n# Assuming you have a slope raster 'slope_raster'\n# Reclassify the slope raster based on the reclassification table\nveg_reclassified &lt;- reclassify(veg_bol, reclass_table_veg, include.lowest = TRUE, right = TRUE)\n\n# Align Vegetation-Raster\nveg_reclassified &lt;- rast(veg_reclassified)\n\n# Adding a new column C to the data frame\nreclass_table_veg$Class &lt;- c(\"Bosques freatófitos\", \"Bosques xerofíticos interandinos y subandinos\", \"Matorrales pluviestacionales montanos\", \"Pajonales altimontanos\")\n\n# test and print\nkable(reclass_table_veg)\n\n\n\n\n\nfrom\nto\nbecomes\nClass\n\n\n\n\n1\n3\n1.0\nBosques freatófitos\n\n\n3\n5\n0.8\nBosques xerofíticos interandinos y subandinos\n\n\n5\n11\n0.4\nMatorrales pluviestacionales montanos\n\n\n11\n14\n0.2\nPajonales altimontanos\n\n\n\n\n\nCode\n# check\n\ntmap_mode(\"plot\")\n\ntm_shape(veg_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"cat\", palette = \"RdYlGn\") +\n   tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9, position = c(\"left\")) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: geo.gob.bo\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )\nThe following Digital elevation model (DEM) contains Raster-Values from min value 1231 to the max value 3450. The Data has been transformed into Slope by the Function: terra::terrain. The Slope-Data has been categorized according to Ernesto et al. (2021) into a certain degree of Permeability in (%). The Reclassification has been processed according to these values.\nCode\n# Create a tibble with the reclassification table\nreclass_table_dem &lt;- tribble(\n  ~from, ~to, ~becomes,\n  0, 6, 1,           # Class 1: Plano a casi plano\n  6, 15, 0.75,       # Class 2: Moderadamente ondulado\n  15, 45, 0.5,       # Class 3: Ondulado/cóncavo\n  45, 65, 0.25,      # Class 4: Escarpado\n  65, Inf, 0         # Class 5: Fuertemente escarpado\n)\n\n# Assuming you have a slope raster 'slope_raster'\n# Reclassify the slope raster based on the reclassification table\ndem_reclassified &lt;- classify(terrain, reclass_table_dem, include.lowest = TRUE, right = TRUE)\n\n# Adding a new column C to the data frame\nreclass_table_dem$Class &lt;- c(\"Plano a casi plano\", \"Moderadamente ondulado\", \"Ondulado/cóncavo\", \"Escarpado\", \"Fuertemente escarpado\")\n\nkable(reclass_table_dem)\n\n\n\n\n\nfrom\nto\nbecomes\nClass\n\n\n\n\n0\n6\n1.00\nPlano a casi plano\n\n\n6\n15\n0.75\nModeradamente ondulado\n\n\n15\n45\n0.50\nOndulado/cóncavo\n\n\n45\n65\n0.25\nEscarpado\n\n\n65\nInf\n0.00\nFuertemente escarpado\n\n\n\n\n\nCode\n# change name\nnames(dem_reclassified) &lt;- \"Potencial recarga\"\n\ntmap_mode(\"plot\")\n\ntm_shape(dem_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"cat\", palette = \"RdYlGn\") +\n    tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9, position = c(\"left\")) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: Hydrosheds.org\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )\nThe free to access GLAD dataset tracks changes in forests, croplands, urban areas, water bodies, and snow/ice cover globally from 2000 to 2020 at a high 30-meter resolution. Created using advanced machine learning tools, each aspect is validated separately.\nThe built-up land category includes man-made surfaces for infrastructure, commercial, and residential use. Using the CNN (U-Net) algorithm with Open Street Map data, we mapped global built-up areas in 2000 and 2020. Validation data refined the depiction of these extents and changes over time.\nThe permeability, classified in percentages (%), was assessed using boolean data types. The reclassification process was executed based on these values.\nCode\n# Create a tibble with the reclassification table\nreclass_table_land &lt;- tribble(\n  ~from, ~to, ~becomes,\n  0, 1, 1,\n  1, 2, 0,\n)\n\n# Reclassify the slope raster based on the reclassification table\nland_reclassified &lt;- classify(land_mask, reclass_table_land, include.lowest = TRUE, right = TRUE)\n\n# Adding a new column C to the data frame\nreclass_table_land$Class &lt;- c(\"sellado\",\"no sellado\")\n\nkable(reclass_table_land)\n\n\n\n\n\nfrom\nto\nbecomes\nClass\n\n\n\n\n0\n1\n1\nsellado\n\n\n1\n2\n0\nno sellado\n\n\n\n\n\nCode\n# change name\nnames(land_reclassified) &lt;- \"Land Seal Status\"\n\ntmap_mode(\"plot\")\n\nlegend_labels &lt;- c(\"1\" = \"Sealed\", \"0\" = \"Not Sealed\")\n\ntm_shape(land_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"cat\", palette = \"RdYlGn\") +\ntm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9, position = c(\"left\")) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: glad.umd.edu\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )\nThis study aimed to identify potential aquifer recharge zones in the Canton of Pasorapa located in the State of Cochabamba (Bolivia). By exploring various geospatial datasets, including terrain attributes, geological features, vegetation patterns, land use, precipitation records, soil classifications by the FAO, and satellite-derived NDVI. Each dataset was analyzed using predetermined weights, emphasizing their relative importance in the study.\nIn conducting this Multicriteria Analysis, the numerous Raster and Vector Layers were integrated, using weighted factors to delineate optimal areas for natural water recharge zones (Spanish: Zonas de Recarga Hídrica). The project utilized the R-Studio Environment, leveraging key packages crucial for these calculations.\nThis resultant raster (see Figure 12.1) encapsulates a comprehensive representation of the region’s environmental aspects, depicting their intricate interplay. The methodology seeks to identify aquifer recharge zones considering Pasorapa’s unique characteristics. It aims to support local policymaking, drawing from Matus (2007) adaptable approach."
  },
  {
    "objectID": "Pasorapa.html#data-pasorapa",
    "href": "Pasorapa.html#data-pasorapa",
    "title": "2  Recarga Hídrica in Pasorapa",
    "section": "4.1 Data Pasorapa",
    "text": "4.1 Data Pasorapa\nThe Following Data has been used:\n\n\nCode\n# Creating a table\nshapes &lt;- c(\"Political Map\", \"Geology\", \"Vegetation\", \"Precipitation\", \"DEM\", \"Land Use\",\" Satellite Data\")\ndata_type &lt;- c(\"Vector\", \"Vector\", \"Vector\", \"Raster\", \"Raster\", \"Raster\", \"Raster\")\n\nsources &lt;- c(\"[gadm.org](https://gadm.org/download_country.html)\", \"[geo.gob.bo](https://geo.gob.bo/portal/#catalog)\", \"[geo.gob.bo](https://geo.gob.bo/portal/#catalog)\", \n             \"[worldclim.org](https://www.worldclim.org/data/worldclim21.html)\", \n             \"[Hydrosheds.org](https://www.hydrosheds.org/hydrosheds-core-downloads)\", \n             \"[GLAD dataset](https://glad.umd.edu/dataset/GLCLUC2020)\", \"[earthdata.nasa.gov](https://worldview.earthdata.nasa.gov/?v=-67.25557476794263,-20.21828985035496,-62.53752018928266,-17.509420418797806&l=Reference_Labels_15m(hidden),HLS_S30_Nadir_BRDF_Adjusted_Reflectance(hidden),HLS_L30_Nadir_BRDF_Adjusted_Reflectance,Coastlines_15m,VIIRS_NOAA20_CorrectedReflectance_TrueColor(hidden),VIIRS_SNPP_CorrectedReflectance_TrueColor(hidden),MODIS_Aqua_CorrectedReflectance_TrueColor(hidden),MODIS_Terra_CorrectedReflectance_TrueColor(hidden)&lg=true&t=2023-07-31-T22%3A00%3A00Z)\")\n\n# Repeat the sources based on the number of shapes\nrepeated_sources &lt;- rep(sources, length.out = length(shapes))\n\ndata &lt;- data.frame(Shape_Raster = shapes, Data_Type = data_type, Sources = repeated_sources)\ncolnames(data) &lt;- c(\"Data Name\", \"Data Type\", \"Sources\")\n\nkable(data)\n\n\n\n\n\nData Name\nData Type\nSources\n\n\n\n\nPolitical Map\nVector\ngadm.org\n\n\nGeology\nVector\ngeo.gob.bo\n\n\nVegetation\nVector\ngeo.gob.bo\n\n\nPrecipitation\nRaster\nworldclim.org\n\n\nDEM\nRaster\nHydrosheds.org\n\n\nLand Use\nRaster\nGLAD dataset\n\n\nSatellite Data\nRaster\nearthdata.nasa.gov\n\n\n\n\n\nCode\n# Read data and crop to Pasorapa\n# read data \n\n## shapes\nbol   &lt;- read_sf(\"gadm41_BOL_3.shp\", crs = 4326) # Pasorapa extent\nveg   &lt;- read_sf(\"veg_nv_bol_geo.shp\") # Vegetation\n# geo &lt;- read_sf(\"Geologia.shp\") # Geografia\ngeo   &lt;- read_sf(\"geologia.shp\", crs = 4326)   # Geografia\ndsmw  &lt;- read_sf(\"DSMW.shp\", crs = 4326)\n\n# other kind of vegetation\nse_bo_geo &lt;- read_sf(\"se_bo_geo.shp\")\n\n# precipitacion\nprecip01 &lt;- rast(\"wc2.1_30s_prec_01.tif\")\nprecip02 &lt;- rast(\"wc2.1_30s_prec_02.tif\")\nprecip03 &lt;- rast(\"wc2.1_30s_prec_03.tif\")\nprecip04 &lt;- rast(\"wc2.1_30s_prec_04.tif\")\nprecip05 &lt;- rast(\"wc2.1_30s_prec_05.tif\")\nprecip06 &lt;- rast(\"wc2.1_30s_prec_06.tif\")\nprecip07 &lt;- rast(\"wc2.1_30s_prec_07.tif\")\nprecip08 &lt;- rast(\"wc2.1_30s_prec_08.tif\")\nprecip09 &lt;- rast(\"wc2.1_30s_prec_09.tif\")\nprecip10 &lt;- rast(\"wc2.1_30s_prec_10.tif\")\nprecip11 &lt;- rast(\"wc2.1_30s_prec_11.tif\")\nprecip12 &lt;- rast(\"wc2.1_30s_prec_12.tif\")\n\n## raster\ndem &lt;- rast(\"s20w070_dem.tif\")\n\n## Satellite Data\nsat_full &lt;- rast(\"sat_full.tiff\")\n\n# Land Use\nland &lt;- rast(\"Change_10S_070W.tif\")\n\n\n\n4.1.1 Data Processing\n\n\nCode\n# filter der bol shapes\nPasorapa   &lt;- bol %&gt;% filter(NAME_3 == \"Pasorapa\")\n\n# st_write(nc, paste0(tempdir(), \"/\", \"nc.shp\"))\n\n# filter a cocha\nveg_cocha &lt;- veg %&gt;% filter(NOM_DEP == \"Cochabamba\")\n\n# DEM\n##  crop and mask dem\ndem_crop &lt;- terra::crop(dem, Pasorapa)\ndem_mask &lt;- mask(dem_crop, Pasorapa)\n\n## terrain\nterrain  &lt;- terrain(dem_mask)\n\n# land\n##  crop and mask dem\nland_crop &lt;- terra::crop(land, Pasorapa)\nland_mask &lt;- mask(land_crop, Pasorapa)\n\n## Intersect Geo, Veg, se_bo_geo\n# GEO\n# crop and mask geo\nsf_use_s2(FALSE) # quick fix\ngeo_intersect  &lt;- sf::st_intersection(geo, Pasorapa)\n\n# Digital Soil Map of the World\ndsmw_intersect  &lt;- sf::st_intersection(dsmw, Pasorapa)\n\n# VEG\n# crop and mask veg\nveg_intersect  &lt;- sf::st_intersection(veg_cocha, Pasorapa)\n\n# VIS\n# veg_intersect %&gt;% \n#   ggplot(aes(fill = CLASE1)) +\n#   geom_sf()\n\n# se_bo_geo\nse_bo_geo_intersect  &lt;- sf::st_intersection(se_bo_geo, Pasorapa)\n\nse_bo_geo_frame &lt;- as.data.frame(se_bo_geo_intersect)\n#VIS Column\n# se_bo_geo_frame %&gt;% select(3) %&gt;% kable()\n\n# VIS\n# se_bo_geo_intersect %&gt;% \n#   ggplot(aes(fill = DESC_SIS)) +\n#   geom_sf() +\n#   theme(legend.position=\"none\")"
  },
  {
    "objectID": "Pasorapa.html#vegetation-indices-calculation",
    "href": "Pasorapa.html#vegetation-indices-calculation",
    "title": "2  Recarga Hídrica in Pasorapa",
    "section": "5.1 Vegetation Indices calculation",
    "text": "5.1 Vegetation Indices calculation\nThe Normalized Difference Vegetation Index (NDVI) is a pivotal tool in assessing vegetation health and density using remote sensing data, in this case from satellite imagery. Computed by measuring the contrast between visible and near-infrared light reflected by vegetation, NDVI values range between -1 and 1.\nNDVI’s application spans various fields. In agriculture, it aids in monitoring crop health and detecting areas requiring attention, such as water stress or disease outbreaks. Ecologists employ NDVI to analyze changes in ecosystems, tracking deforestation or assessing habitat health. Higher values of the NDVI signify dense, healthy vegetation, while lower values indicate barren land or water bodies. Therefore there is a strong positive correlation between NDVI and biomass according to Khaple et al. (2021). These Indices has been used to produce a Proxy of Vegetation Coverage.\n\n\nCode\n# read Raster data from Aiquile\nndvi_full &lt;- rast(\"ndvi_full.tif\")\n\n# Band Calc\n# Set Color Bands 1\ngreen_band  &lt;- rast(\"LM05_L1TP_231073_19860911_20200831_02_T2_B1.TIF\")  # green wavelenght range of 500-600 nanometers.\nred_band   &lt;- rast(\"LM05_L1TP_231073_19860911_20200831_02_T2_B2.TIF\")  # red wavelength range, around 600-700 nanometers.\nnir_band &lt;- rast(\"LM05_L1TP_231073_19860911_20200831_02_T2_B3.TIF\")  # near-infrared light, approximately in the range of 700-1100 nanometers.\nswir_band   &lt;- rast(\"LM05_L1TP_231073_19860911_20200831_02_T2_B4.TIF\") # combination of visible and shortwave-infrared wavelengths.\n\n# Calculate NDVI\nndvi &lt;- (nir_band - red_band) / (nir_band + red_band)\n\nndvi_pasorapa &lt;- merge(ndvi_full, ndvi)\n\nplot(ndvi_pasorapa)\n\n\nCode\n# Transform the SpatRaster to the CRS of the polygon\nndvi_same_crs &lt;- project(ndvi_pasorapa, crs(Pasorapa))\n    # ndvi_wgs84 &lt;- project(ndvi_full, \"EPSG:4326\")\n\n# Aplicar las operaciones crop y mask\n  ndvi_crop &lt;- terra::crop(ndvi_same_crs, Pasorapa)\n  ndvi_mask &lt;- mask(ndvi_crop, Pasorapa)\n  \n  # writeRaster(ndvi_full, \"ndvi_full.tif\")\n\n# Plot NDVI\nplot(ndvi_mask,  main = \"Normalized Difference Vegetation Index (NDVI)\")"
  },
  {
    "objectID": "Pasorapa.html#reclassification-ndvi-index",
    "href": "Pasorapa.html#reclassification-ndvi-index",
    "title": "2  Recarga Hídrica in Pasorapa",
    "section": "5.2 Reclassification NDVI-Index",
    "text": "5.2 Reclassification NDVI-Index\n\n\nCode\n# read data\n# ndvi_full_mask &lt;- rast(\"ndvi_full_mask.tif\")\n\n# Reclass\n# Create a tibble with the reclassification table\nreclass_table_indice &lt;- tribble(\n  ~from, ~to, ~becomes,\n  -Inf, 0, 0.2,\n  0, 0.05, 0.4,\n  0.05, 0.2, 0.6,\n  0.2, Inf, 1\n)\n\n# Reclassify the slope raster based on the reclassification table\nndvi_reclassified &lt;- terra::classify(ndvi_mask, reclass_table_indice, include.lowest = TRUE, right = TRUE)\n\n# change name\nnames(ndvi_mask) &lt;- \"Potencial de Recarga\"\n\n# check\n\ntmap_mode(\"plot\")\n\ntm_shape(ndvi_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"pretty\", palette = \"RdYlGn\") +\n     tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9, position = c(\"left\")) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: earthdata.nasa.gov\", fontface = \"italic\", align = \"left\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )"
  },
  {
    "objectID": "Pasorapa.html#reclass-precipitation",
    "href": "Pasorapa.html#reclass-precipitation",
    "title": "2  Recarga Hídrica in Pasorapa",
    "section": "6.1 Reclass Precipitation",
    "text": "6.1 Reclass Precipitation\nThe following values have been used to reclass the Precipitation values into probability of water recharg (Recarga Hídrica) values.\n\n\nCode\n# Create a tibble with the reclassification table\nreclass_table_precip &lt;- tribble(\n  ~from, ~to, ~becomes,\n  650,    Inf,  1,      # 650 to Inf becomes 1\n  600,    650,  0.9,   # 600 to 650 becomes 0.75\n  550,    600,  0.8,    # 550 to 600 becomes 0.5\n  500,    550,  0.6,   # 500 to 550 becomes 0.25\n  -Inf,   500,  0.4       # -Inf to 500 becomes 0\n)\n\n# Assuming you have a slope raster 'slope_raster'\n# Reclassify the slope raster based on the reclassification table\nprecip_reclassified &lt;- classify(sum_raster, reclass_table_precip, include.lowest = TRUE, right = TRUE)\n\nkable(reclass_table_precip)\n\n\n\n\n\nfrom\nto\nbecomes\n\n\n\n\n650\nInf\n1.0\n\n\n600\n650\n0.9\n\n\n550\n600\n0.8\n\n\n500\n550\n0.6\n\n\n-Inf\n500\n0.4\n\n\n\n\n\nCode\n# change name\nnames(precip_reclassified) &lt;- \"Potencial recarga\"\n\ntmap_mode(\"plot\")\n\ntm_shape(precip_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"pretty\", palette = \"RdYlGn\") +\n     tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9, position = c(\"left\")) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: worldclim.org\", fontface = \"italic\", align = c(\"left\", \"bottom\")) + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )"
  },
  {
    "objectID": "Pasorapa.html#raster-calculation",
    "href": "Pasorapa.html#raster-calculation",
    "title": "2  Recarga Hídrica in Pasorapa",
    "section": "12.1 Raster Calculation",
    "text": "12.1 Raster Calculation\nThe final Raster Calculation is being conducted according to the following table.\n\n\nCode\n# Align resolutions (resample veg)\nveg_resampled &lt;- resample(veg_reclassified, dem_reclassified)\n\n# Align resolutions (resample geo)\ngeo_reclassified &lt;- resample(geo_reclassified, veg_resampled)\n\n# Align resolutions (resample land)\nland_reclassified &lt;- resample(land_reclassified, geo_reclassified)\n\n# Align resolutions (resample land)\nprecip_reclassified &lt;- resample(precip_reclassified, land_reclassified)\n\n# Align resolutions (resample land)\nfao_reclassified &lt;- resample(fao_reclassified, precip_reclassified)\n\n# Align resolutions (resample land)\nndvi_reclassified &lt;- resample(ndvi_reclassified, fao_reclassified)\n\n# final calc\n# raster_final &lt;- (dem_reclassified + veg_resampled + geo_reclassified + land_reclassified + precip_reclassified) / 5\n\n# ZR (zona de recarga) = [0.27*(Pend)+0.23*(Ts)+0.12*(Tr)+0.25*(Cve)+0.13* (Us)]\n\n# final_raster = 0.345*(dem_reclassified)+0.19*(geo_reclassified)+0.32*(veg_resampled)+0.2*(land_reclassified) + (precip_reclassified)\n\n# Adjusted weights\nweight_dem    &lt;- 0.25\nweight_geo    &lt;- 0.15\nweight_veg    &lt;- 0.05\nweight_land   &lt;- 0.1\nweight_precip &lt;- 0.1\nweight_fao    &lt;- 0.1\nweight_sat    &lt;- 0.25\n\n# Perform the adjusted weighted combination\nfinal_raster &lt;- weight_dem    * dem_reclassified +\n                weight_geo    * geo_reclassified +\n                weight_veg    * veg_resampled +\n                weight_land   * land_reclassified +\n                weight_precip * precip_reclassified +\n                weight_fao    * fao_reclassified +\n                weight_sat    * ndvi_reclassified\n\n# Define the weights and data\nweights &lt;- c(0.25, 0.15, 0.05, 0.1, 0.1, 0.1, 0.25)\ndata_names &lt;- c(\"DEM\", \"Geology\", \"Vegetation\", \"Land Use\", \"Precipitation\", \"Soil Type by the FAO\", \"Satellite-born NDVI\")\n\n# Create the table\ntable_data &lt;- data.frame(Weight = weights, Data = data_names)\n\n# Show the table\nkable(table_data)\n\n\n\n\n\nWeight\nData\n\n\n\n\n0.25\nDEM\n\n\n0.15\nGeology\n\n\n0.05\nVegetation\n\n\n0.10\nLand Use\n\n\n0.10\nPrecipitation\n\n\n0.10\nSoil Type by the FAO\n\n\n0.25\nSatellite-born NDVI"
  },
  {
    "objectID": "Pasorapa.html#final-result",
    "href": "Pasorapa.html#final-result",
    "title": "2  Recarga Hídrica in Pasorapa",
    "section": "12.2 Final Result",
    "text": "12.2 Final Result\nThe following Map shows the potential of water-recharge across Aiquile according to the previous settings and classificacions in four different Classes: “Very low”, “low”, “Moderate” and “High”.\n\n\nCode\n# Define breaks and labels for the reclassification\nbreaks &lt;- c(0, 0.67, 0.69, 0.73, 1)\nlabels &lt;- c(\"Muy baja\", \"Baja\", \"Moderata\", \"Alta\")\n\n# change name\nnames(final_raster) &lt;- \"Potencial de Recarga\"\n\n# Cut the raster values into categorical factors\nfactor_raster &lt;- cut(values(final_raster), breaks = breaks, labels = labels, include.lowest = TRUE)\n\n# Use dplyr's recode to change the factor levels based on the breaks and labels\n\nfactor_raster &lt;- factor_raster %&gt;% \n  recode(\"Muy baja\" = \"Alta\", \"Baja\" = \"Moderata\", \"Moderata\" = \"Baja\", \"Alta\" = \"Muy baja\")\n\n# Create a new raster with categorized values\nr_categorized &lt;- final_raster\nvalues(r_categorized) &lt;- as.character(factor_raster)\n\n# view\ntmap_mode(\"plot\")\n\ntm_shape(r_categorized, labels = \"New Legend Label\") +\n    tm_raster(style = \"cont\", palette = \"RdYlGn\", breaks = breaks, labels = labels) +\n     tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9, position = c(\"left\")) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Author: Johannes Quente\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )\n\n\n\n\n\nFigure 12.1: Map of Zones with Water Recharge Potential in Four Classes of Pasorapa"
  },
  {
    "objectID": "Pasorapa.html#interactive-visualization",
    "href": "Pasorapa.html#interactive-visualization",
    "title": "2  Recarga Hídrica in Pasorapa",
    "section": "12.3 Interactive Visualization",
    "text": "12.3 Interactive Visualization\nThis interactive Map shows only the values (“low”, “moderate”, “high”) with different maps in the backround provided by openstreetmap.org.\n\n\nCode\n# Define breaks and labels for the reclassification\nbreaks &lt;- c(0.67, 0.69, 0.73, 1)\nlabels &lt;- c(\"Baja\", \"Moderata\", \"Alta\")\n\n# change name\nnames(final_raster) &lt;- \"Potencial de Recarga\"\n\n# Cut the raster values into categorical factors\nfactor_raster &lt;- cut(values(final_raster), breaks = breaks, labels = labels, include.lowest = TRUE)\n\n# Use dplyr's recode to change the factor levels based on the breaks and labels\n\nfactor_raster &lt;- factor_raster %&gt;% \n  recode(\"Muy baja\" = \"Alta\", \"Baja\" = \"Moderata\", \"Moderata\" = \"Baja\", \"Alta\" = \"Muy baja\")\n\n# Create a new raster with categorized values\nr_categorized &lt;- final_raster\nvalues(r_categorized) &lt;- as.character(factor_raster)\n\n# view\ntmap_mode(\"view\")\n\ntm_shape(r_categorized, labels = \"New Legend Label\") +\n    tm_raster(style = \"cont\", palette = \"YlGn\", breaks = breaks, labels = labels, alpha = 0.8) +\ntm_basemap(c(\"Esri.WorldImagery\", \"OpenStreetMap.Mapnik\")) +\n  tm_minimap()\n\n\n\n\n\nFigure 12.2: Map of Zones with Water Recharge Potential in three Classes of Pasorapa\n\n\n\n\n\n\n\n\n\nErnesto, Inti, Rodriguez Levy, Miguel Ángel, and Centella Levy. 2021. “Informe: Determinación de Zonas Potenciales de Recarga Hídrica Para La Cuenca Virvini, Municipio de Tiraque.” Cochabamba, Bolivia: Universidad Católica Boliviana Cochabamba, Centro de investigación en Ciencias Exactas e Ingenierías. https://www.mdpi.com/2073-4441/15/7/1268.\n\n\nKhaple, Anil Kumar, Guddappa M. Devagiri, Naveen Veerabhadraswamy, Sanjay Babu, and Shashi Bhushan Mishra. 2021. “Chapter 6 - Vegetation Biomass and Carbon Stock Assessment Using Geospatial Approach.” In Forest Resources Resilience and Conflicts, edited by Pravat Kumar Shit, Hamid Reza Pourghasemi, Partha Pratim Adhikary, Gouri Sankar Bhunia, and Vishwambhar Prasad Sati, 77–91. Elsevier. https://doi.org/10.1016/B978-0-12-822931-6.00006-X.\n\n\nMatus, O. 2007. Elaboración Participativa de Una Metodología Para La Identificación de Zonas Potenciales de Recarga Hídrica En Subcuencas Hidrográficas , Aplicada a La Subcuenca Del Río Jucuapa , Matagalpa Nicaragua. CATIE. https://vdocuments.mx/identificacion-de-zonas-potenciales-de-recarga-hidrica.html?page=1."
  },
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "3  Summary",
    "section": "",
    "text": "The study embarked on developing a methodology to pinpoint potential water recharge areas within the Virvini micro-watershed. Initial analysis exposed disparities in parameters proposed by Matus, prompting their refinement through the Delphi methodology involving global and local experts as well as community insights. This led to a more balanced consideration of the original five variables, and the inclusion of spatial precipitation distribution emerged as a crucial sixth variable in identifying potential recharge areas.\nMoreover, the study underscored the imperative of a comprehensive examination of soil cover types, especially vegetation, and their impact on aquifer recharge. A notable discovery highlighted the significance of reclassifying land cover categories to delineate potential recharge zones more effectively.\nThese insights lay the groundwork for crafting public policies aimed at safeguarding groundwater and recharge areas in Aiquile and Pasorapa municipality, marking the initial steps toward regional groundwater resource protection. Concerning recharge area management, the study highlighted the pivotal role of ecosystem conservation in preserving the watershed’s surface biophysical properties, particularly soil and infiltration capacity. Protecting areas housing native plant communities, rich in indigenous species, should be a focal point in watershed management plans. These zones boast high aquifer recharge potential and bear significant ecological, scientific, and cultural value as part of Virvini’s natural heritage within Aiquile and Pasorapa municipality.\nThe study aimed to develop a methodology for identifying potential groundwater recharge zones in the Virvini micro-basin. Reclassifying land use/land cover categories could be a decisive factor in delineating potential recharge zones. However, limitations exist, and this study suggests that further analyses be conducted.\nFinally, the findings of this study have several significant and immediate practical implications. They establish the first critical technical bases for constructing a future policy to ensure protection of groundwater recharge zones for the municipality of Aiquile and Pasorapa. Therefore, it is understood that the obtained results can be taken as the first steps toward the long-term management of groundwater resources in this region."
  },
  {
    "objectID": "References.html",
    "href": "References.html",
    "title": "References",
    "section": "",
    "text": "Acharya, B. S., G. Kharel, C. B. Zou, B. P. Wilcox, and T. Halihan.\n2018. “Woody Plant Encroachment Impacts on Groundwater Recharge: A\nReview.” Water 10: 1466.\n\n\nBlanco, J. A. 2017. “Bosques, Suelo y Agua: Explorando Sus\nInteracciones.” Ecosistemas 26: 1–9.\n\n\nBonnesoeur, V., B. Locatelli, and B. F. Ochoa-Tocachi. 2019.\nImpactos de La Forestación En El Agua y Los Suelos de Los Andes: Qué\nSabemos? Resumen de Políticas. Lima, Perú: Proyecto\n“Infraestructura Natural Para La Seguridad Hídrica” (INSH).\n\n\nEllison, D., C. E. Morris, B. Locatelli, D. Sheil, J. Cohen, D.\nMurdiyarso, V. Gutierrez, et al. 2017. “Trees, Forests and Water:\nCool Insights for a Hot World.” Glob. Environ. Chang.\n43: 51–61.\n\n\nErnesto, Inti, Rodriguez Levy, Miguel Ángel, and Centella Levy. 2021.\n“Informe: Determinación de Zonas Potenciales de Recarga Hídrica\nPara La Cuenca Virvini, Municipio de Tiraque.” Cochabamba,\nBolivia: Universidad Católica Boliviana Cochabamba, Centro de\ninvestigación en Ciencias Exactas e Ingenierías. https://www.mdpi.com/2073-4441/15/7/1268.\n\n\nFigueredo, J. L. 2019. “Metodología Para Determinar Zonas de\nRecarga Hídrica En Municipios o Comunidades Con Recursos Financieros\nLimitados.” Universidad Militar Nueva Granada. https://repository.unimilitar.edu.co/handle/10654/34946?show=full.\n\n\nHelvetas, S. I. 2014. Guía Para La Gestión, Protección y\nConservación de Fuentes de Agua y Áreas de Recarga Hídrica.\n\n\nIlstedt, U., A. Bargués Tobella, H. R. Bazié, J. Bayala, E. Verbeeten,\nG. Nyberg, J. Sanou, et al. 2016. “Intermediate Tree Cover Can\nMaximize Groundwater Recharge in the Seasonally Dry Tropics.”\nSci. Rep. 6: 21930.\n\n\nKhaple, Anil Kumar, Guddappa M. Devagiri, Naveen Veerabhadraswamy,\nSanjay Babu, and Shashi Bhushan Mishra. 2021. “Chapter 6 -\nVegetation Biomass and Carbon Stock Assessment Using Geospatial\nApproach.” In Forest Resources Resilience and Conflicts,\nedited by Pravat Kumar Shit, Hamid Reza Pourghasemi, Partha Pratim\nAdhikary, Gouri Sankar Bhunia, and Vishwambhar Prasad Sati, 77–91.\nElsevier. https://doi.org/10.1016/B978-0-12-822931-6.00006-X.\n\n\nLe Maitre, D. C., D. F. Scott, and C. Colvin. 1999. “A Review of\nInformation on Interactions Between Vegetation and Groundwater.”\nWater SA 25: 137–52.\n\n\nMatus, O. 2007. Elaboración Participativa de Una Metodología Para La\nIdentificación de Zonas Potenciales de Recarga Hídrica En Subcuencas\nHidrográficas , Aplicada a La Subcuenca Del Río Jucuapa , Matagalpa\nNicaragua. CATIE. https://vdocuments.mx/identificacion-de-zonas-potenciales-de-recarga-hidrica.html?page=1.\n\n\nRamírez, E. J., C. Sánchez, M. Enríquez, and M. Gutiérrez. 2018.\n“Identificación de Sitios Potenciales de Recarga de Acuíferos\nMediante Uso de Vehículos Aéreos No Tripulados En La Universidad Del Mar\nCampus Puerto Ángel.” Cienc. Mar 21: 13–18.\n\n\nRodriguez-Levy, Inti E., Miguel A. Centellas-Levy, Wanderley J.\nFerreira, Syed Md Touhidul Mustafa, Lilian Rivera-Rodriguez, Andres\nGonzales Amaya, and Marijke Huysmans. 2023. “Development and\nApplication of a Methodology for the Identification of Potential\nGroundwater Recharge Zones: A Case Study in the Virvini Micro-Basin,\nTiraque, Bolivia.” Water 2023, Vol. 15, Page 1268 15\n(March): 1268. https://doi.org/10.3390/W15071268.\n\n\nSáenz-López, Á. A., L. C. Bravo-Peña, M. E. Torres-Olave, and C.\nAlatorre-Cejudo. 2015. “Localización de Zonas Con Potencial\nNatural de Recarga Hídrica: Ensayo de Enfoque Multiescalar En El\nAcuífero Cuauhtémoc.” Memorias de Resúmenes En Extenso\nSELPER-XXI-México-UACJ-2015."
  },
  {
    "objectID": "Author.html",
    "href": "Author.html",
    "title": "About the Author",
    "section": "",
    "text": "MSc. Johannes Quente\nThis Project has been developed for AGRECOL ANDES\nContact:\nWhatsapp: 0049 16095170961\nEmail: johannes.quente@gmail.com\nLinkedIn: linkedin.com\nGithub: github/Quasto-sketc\nBlog: Wordpress\nCV Resumen:\nJohannes Quente, hailing from the seafarers’ city of Hamburg, Germany, moved to Puerto Montt, Chile, as part of a year-long exchange when he was 16. After completing his high school studies and engaging in social work at the Seafarers’ Mission in the port of Hamburg, he decided to pursue agricultural sciences, specializing in agroecology, at the University of Göttingen.\nFor his master’s degree, Johannes moved to Switzerland to study Geoinformatics at ZHAW. He pursued his Master’s studies in Environment and Natural Resources within the Research Unit Agroecology and Food Systems, and the Geoinformatics research group at ZHAW (Switzerland). His master’s thesis focused on the quantitative environmental impacts of mining.\nTo date, he is being involved in various environmental, governmental, and university projects in Germany, Switzerland and Bolivia, regarding Agricultural, Food Waste and Hydrology Projects."
  }
]