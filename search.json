[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Projecto Recarga Hydrica",
    "section": "",
    "text": "Preface\n\n\nIntroduction\nIntegrated watershed management and water sources play a vital role in global ecosystem conservation, especially in mountainous areas like Bolivia where significant international basins originate. Despite the crucial role of groundwater in ecological and economic aspects, it’s often overlooked compared to surface water. Factors like population growth, inadequate resource management, and climate variability have increased water demand while decreasing its quality and quantity due to abrupt land use changes, including uncontrolled agricultural expansion and deforestation. This is further exacerbated by insufficient hydrological and hydrogeological data and limited information about vulnerable ecosystems, particularly concerning in developing countries. Such scenarios escalate social conflicts over natural resources, prominently water Helvetas (2014).\nEnsuring water security for urban settlements and rural communities necessitates regulations to protect water sources. Attitude shifts and conservation practices are crucial to improving the relationship between users and water resources, recognizing that water availability depends not only on natural phenomena but also on social and institutional factors related to its management. Comprehensive water management should encompass all water sources, surface, and groundwater alike Figueredo (2019).\nAttention to aquifers, geological zones allowing water accumulation and circulation, is critical, especially in arid regions where excessive uncontrolled extraction threatens these primary water sources. Preservation of areas facilitating surface infiltration, crucial for aquifer recharge, is essential. However, these recharge zones often lack protection against external pressures, typically associated with human activities altering land use.\nThe absence of proper identification and delineation hampers effective management, emphasizing the need to prioritize ecosystems in these areas and establish their strategic value for water management. Accurate identification and preservation efforts, under consensus between authorities and local stakeholders, are pivotal for aquifer protection, ensuring the continuity of the hydrological cycle within the watershed Sáenz-López et al. (2015).\nParticipatory methodologies like Matus (2007), focusing on hydrographic sub-basins, play a key role in identifying potential aquifer recharge zones through a scientific yet low-cost approach, incorporating local knowledge into the study and its results.\n\n\n\n\n\n\nFigueredo, J. L. 2019. “Metodología Para Determinar Zonas de Recarga Hídrica En Municipios o Comunidades Con Recursos Financieros Limitados.” UNIVERSIDAD MILITAR NUEVA GRANADA.\n\n\nHelvetas, S. I. 2014. Guía Para La Gestión, Protección y Conservación de Fuentes de Agua y Áreas de Recarga Hídrica.\n\n\nMatus, O. 2007. Elaboración Participativa de Una Metodología Para La Identificación de Zonas Potenciales de Recarga Hídrica En Subcuencas Hidrográficas , Aplicada a La Subcuenca Del Río Jucuapa , Matagalpa Nicaragua. CATIE.\n\n\nSáenz-López, Á. A., L. C. Bravo-Peña, M. E. Torres-Olave, and C. Alatorre-Cejudo. 2015. “Localización de Zonas Con Potencial Natural de Recarga Hídrica: Ensayo de Enfoque Multiescalar En El Acuífero Cuauhtémoc.” Memorias de Resúmenes En Extenso SELPER-XXI-México-UACJ-2015."
  },
  {
    "objectID": "Recarga_Hydrica_Aiquile.html",
    "href": "Recarga_Hydrica_Aiquile.html",
    "title": "1  Recarga Hydrica in Aiquile",
    "section": "",
    "text": "2 Frame of Reference Aiquile\nThe study took place in Aiquile, situated in the upper part of the Pucara watershed, Cochabamba’s Valle Alto region. Renowned for extensive agricultural land, Aiquile provides various produce. Additionally, water sources in the adjacent mountains serve as crucial irrigation water for other municipalities, notably Punata, situated downstream with the region’s largest population.\nAiquile has grappled with internal and inter-municipal disputes over water rights. Authorities are formulating policies focused on safeguarding recharge zones and water sources, positioning Aiquile as a pioneer in the Valle Alto region.\nDespite its geographical significance, emphasis on surface water sources has sidelined direct extraction of groundwater through wells, limiting understanding of hydrogeological processes and aquifer recharge factors. Climatic uncertainties altering precipitation patterns exacerbate water security concerns, leading to prolonged periods of water stress.\nThus, the study aims to devise a methodology for identifying potential aquifer recharge zones, considering Aiquile’s unique biophysical and social characteristics. These findings aim to support the proposed municipal policy in Aiquile.\nGiven the absence of a standardized methodology, this approach draws from Oscar Matus’ method—a cost-effective, scientific, and participatory approach adaptable to diverse scenarios. By integrating local knowledge with detailed biophysical aspects, the methodology encourages community involvement, influencing decision-making processes regarding territorial and natural resource management. Its potential replication extends regionally and nationally.\nWorking in the R-Studio Environment. The following Packages have been used to accomplish the final Results and have provided the necessary functions for the calculations conducted.\nCode\n# libraries used\nlibrary(raster)\nlibrary(terra)\nlibrary(ggplot2)\nlibrary(tmap)\nlibrary(sf)\nlibrary(dplyr)\nlibrary(tibble)\nlibrary(knitr)\nThe following Data by worldclim.org resembles Precipitation Data on a 30 Arc Second Accuracy. The format provides one Raster-Layer for each month. The following Loop has been written in order to facilitate the Casting process.\nCode\n# LOOP\n\n# Crear una lista con los nombres de los objetos\nlista_precip &lt;- paste0(\"precip\", sprintf(\"%02d\", 1:12))  # Genera los nombres de precip01 a precip12\n\n# Inicializar una lista vacía para almacenar los resultados\nlista_precip_mask &lt;- list()\n\n# Iterar sobre cada objeto y aplicar las operaciones\nfor (i in seq_along(lista_precip)) {\n  # Acceder al objeto con el nombre correspondiente\n  precip_obj &lt;- get(lista_precip[i])\n  \n  # Aplicar las operaciones crop y mask\n  precip_crop &lt;- terra::crop(precip_obj, aiquile)\n  precip_mask &lt;- mask(precip_crop, aiquile)\n  \n  # Almacenar el resultado en la lista\n  lista_precip_mask[[i]] &lt;- precip_mask\n}\n\n# Mostrar la lista de resultados (en caso de querer acceder a cada uno)\n# lista_precip_mask\n\n# Para visualizar un objeto específico (por ejemplo, el primer objeto)\n\n# plot(lista_precip_mask[[4]])\nThe following FAO Soil Type Data available at fao.com contains Shapes in five different Categories. These have been assigned to a certain degree of Permeability of Water in (%). The Reclassification has been processed according to these values.\nCode\n# Create an empty raster to rasterize into\nempty_raster &lt;- raster(extent(dsmw_intersect), resolution = c(0.0008333333, 0.0008333333))\n\n# Convert SIMBOLO to factor\ndsmw_intersect$FAOSOIL &lt;- as.factor(dsmw_intersect$FAOSOIL)\n\n# Rasterize\nfao_raster &lt;- rasterize(dsmw_intersect, empty_raster, field = \"FAOSOIL\")\n\n# writeRaster(geo_raster, \"geo_raster.tif\", overwrite=TRUE)\n\n# vis\n# plot(geo_raster)\n\n# reclass\n# Create a tibble with the reclassification table\nreclass_table_fao &lt;- tribble(\n  ~from, ~to, ~becomes,\n  1, 1, 0.9,   \n  1, 2, 0.7,    \n  2, 3, 0.6,      \n  3, 4, 0.8,    \n  4, 5, 0.5\n)\n\n# Assuming you have a slope raster 'slope_raster'\n# Reclassify the slope raster based on the reclassification table\nfao_reclassified &lt;- reclassify(fao_raster, reclass_table_fao, include.lowest = TRUE, right = TRUE)\n\n# Align Vegetation-Raster\nfao_reclassified &lt;- rast(fao_reclassified)\n\n# Adding a new column C to the data frame\nreclass_table_fao$Class &lt;- c(\"Sandy clay\", \"Clayey loam\", \"Sandy silt loam\", \"Clayey silt loam\", \"Silt loam\")\n\nreclass_table_fao$FAOSOIL &lt;- c(\"Bk2-b \", \"I-Bd-Bh-c\", \"I-Be-Lc-c\", \"I-Tv-c\", \"Lc6-c\")\n\nkable(reclass_table_fao)\n\n\n\n\n\nfrom\nto\nbecomes\nClass\nFAOSOIL\n\n\n\n\n1\n1\n0.9\nSandy clay\nBk2-b\n\n\n1\n2\n0.7\nClayey loam\nI-Bd-Bh-c\n\n\n2\n3\n0.6\nSandy silt loam\nI-Be-Lc-c\n\n\n3\n4\n0.8\nClayey silt loam\nI-Tv-c\n\n\n4\n5\n0.5\nSilt loam\nLc6-c\n\n\n\n\n\nCode\n# dsmw_intersect %&gt;% \n# ggplot(aes(fill = FAOSOIL)) +\n#   geom_sf()\n\n# check\n\ntmap_mode(\"plot\")\n\ntm_shape(fao_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"pretty\", palette = \"RdYlGn\") +\n     tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: fao.org\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )\nThe following Geology data contains Shapes in six different Categories. The Categories has been assigned to a certain degree of Permeability in (%). The Reclassification has been processed according to these values.\nCode\n# ggplot(geo_intersect, aes(fill = SIMBOLO)) +\n#   geom_sf()\n\n# Create an empty raster to rasterize into\nempty_raster &lt;- raster(extent(geo_intersect), resolution = c(0.0008333333, 0.0008333333))\n\n# Convert SIMBOLO to factor\ngeo_intersect$SIMBOLO &lt;- as.factor(geo_intersect$SIMBOLO)\n\n# Rasterize\ngeo_raster &lt;- rasterize(geo_intersect, empty_raster, field = \"SIMBOLO\")\n\n# writeRaster(geo_raster, \"geo_raster.tif\", overwrite=TRUE)\n\n# vis\n# plot(geo_raster)\n\n# reclass\n# Create a tibble with the reclassification table\nreclass_table_geo &lt;- tribble(\n  ~from, ~to, ~becomes,\n  1, 1, 0.2,    # C - Crystalline: \"C\" could represent crystalline rocks or materials, often associated with igneous or metamorphic formations.\n  1, 2, 0.4,    # D - Deposits or Duricrust:\"D\" might stand for specific deposits or duricrust, which is a hard layer formed on the ground by cementation.\n  2, 3, 1,      # K - Karst: \"K\" might be used to denote karst terrain, which is characterized by soluble bedrock, such as limestone, and features like caves and sinkholes.\n  3, 4, 0.4,    # Q - Quarternary: \"Q\" could represent a geological or environmental classification related to the Quaternary period.\n  4, 5, 0.8,    # O - Organic or Overburden: \"O\" could be associated with organic materials or overburden, referring to unconsolidated material covering bedrock.\n  5, 6, 0.8,    # S - Sedimentary: In geological or environmental contexts, \"S\" might represent sedimentary rocks or materials.\n)\n\n# Assuming you have a slope raster 'slope_raster'\n# Reclassify the slope raster based on the reclassification table\ngeo_reclassified &lt;- reclassify(geo_raster, reclass_table_geo, include.lowest = TRUE, right = TRUE)\n\n# Align Vegetation-Raster\ngeo_reclassified &lt;- rast(geo_reclassified)\n\n# Adding a new column C to the data frame\nreclass_table_geo$Class &lt;- c(\"Crystalline\", \"Deposits or Duricrust\", \"Karst\", \"Quarternary\", \"Organic or Overburden\", \"Sedimentary\")\n\nkable(reclass_table_geo)\n\n\n\n\n\nfrom\nto\nbecomes\nClass\n\n\n\n\n1\n1\n0.2\nCrystalline\n\n\n1\n2\n0.4\nDeposits or Duricrust\n\n\n2\n3\n1.0\nKarst\n\n\n3\n4\n0.4\nQuarternary\n\n\n4\n5\n0.8\nOrganic or Overburden\n\n\n5\n6\n0.8\nSedimentary\n\n\n\n\n\nCode\n# check\n\ntmap_mode(\"plot\")\n\ntm_shape(geo_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"pretty\", palette = \"RdYlGn\") +\n     tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: geo.gob.bo\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )\nThe following Vegetation data contains Shapes in four different Categories. The Vegetation has been categorized into a certain degree of Permeability in (%). The Reclassification has been processed according to these values.\nCode\n# Create an empty raster to rasterize into\nempty_raster &lt;- raster(extent(se_bo_geo_intersect), resolution = c(0.0008333333, 0.0008333333))\n\n# Rasterize\nveg_bol &lt;- rasterize(se_bo_geo_intersect, empty_raster)\n\n# writeRaster(veg_bol, \"veg_bol.tif\")\n\n# plot(veg_bol)\n# View(veg_bol)\n\n# reclass\n# Create a tibble with the reclassification table\nreclass_table_veg &lt;- tribble(\n  ~from, ~to, ~becomes,\n  1, 3, 1,           # Bosques freatófitos / Phreatophytische Wälder\n  3, 5, 0.8,         # Bosques xerofíticos interandinos y subandinos / Inter- und subandine xerophytische Wälder\n  5, 11, 0.4,        # matorral pluvial montano / montanes Pluvialgebüsch\n  11, 14, 0.2,       # matorral pluvial montano pastizal montano altimontano / altimontanes montanes Grasland\n)\n\n# Assuming you have a slope raster 'slope_raster'\n# Reclassify the slope raster based on the reclassification table\nveg_reclassified &lt;- reclassify(veg_bol, reclass_table_veg, include.lowest = TRUE, right = TRUE)\n\n# Align Vegetation-Raster\nveg_spatraster &lt;- rast(veg_reclassified)\n\n# Adding a new column C to the data frame\nreclass_table_veg$Class &lt;- c(\"Bosques freatófitos\", \"Bosques xerofíticos interandinos y subandinos\", \"matorral pluvial montano\", \"pastizal montano altimontano\")\n\n# test and print\nkable(reclass_table_veg)\n\n\n\n\n\nfrom\nto\nbecomes\nClass\n\n\n\n\n1\n3\n1.0\nBosques freatófitos\n\n\n3\n5\n0.8\nBosques xerofíticos interandinos y subandinos\n\n\n5\n11\n0.4\nmatorral pluvial montano\n\n\n11\n14\n0.2\npastizal montano altimontano\n\n\n\n\n\nCode\n# check\n\ntmap_mode(\"plot\")\n\ntm_shape(veg_spatraster, labels = \"New Legend Label\") +\n    tm_raster(style = \"cat\", palette = \"RdYlGn\") +\n     tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: geo.gob.bo\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )\nThe following Digital elevation model (DEM) contains Raster-Values from min value 1231 to the max value 3450. The Data has been transformed into Slope by the Function: terra::terrain. The Slope-Data has been categorized according to Ernesto et al. (2021) into a certain degree of Permeability in (%). The Reclassification has been processed according to these values.\nCode\n# Create a tibble with the reclassification table\nreclass_table_dem &lt;- tribble(\n  ~from, ~to, ~becomes,\n  0, 6, 1,           # Class 1: Plano a casi plano\n  6, 15, 0.75,       # Class 2: Moderadamente ondulado\n  15, 45, 0.5,       # Class 3: Ondulado/cóncavo\n  45, 65, 0.25,      # Class 4: Escarpado\n  65, Inf, 0         # Class 5: Fuertemente escarpado\n)\n\n# Assuming you have a slope raster 'slope_raster'\n# Reclassify the slope raster based on the reclassification table\ndem_reclassified &lt;- classify(terrain, reclass_table_dem, include.lowest = TRUE, right = TRUE)\n\n# Adding a new column C to the data frame\nreclass_table_dem$Class &lt;- c(\"Plano a casi plano\", \"Moderadamente ondulado\", \"Ondulado/cóncavo\", \"Escarpado\", \"Fuertemente escarpado\")\n\nkable(reclass_table_dem)\n\n\n\n\n\nfrom\nto\nbecomes\nClass\n\n\n\n\n0\n6\n1.00\nPlano a casi plano\n\n\n6\n15\n0.75\nModeradamente ondulado\n\n\n15\n45\n0.50\nOndulado/cóncavo\n\n\n45\n65\n0.25\nEscarpado\n\n\n65\nInf\n0.00\nFuertemente escarpado\n\n\n\n\n\nCode\n# change name\nnames(dem_reclassified) &lt;- \"Potencial recarga\"\n\ntmap_mode(\"plot\")\n\ntm_shape(dem_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"cat\", palette = \"RdYlGn\") +\n     tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: Hydrosheds.org\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )\nThe free to access GLAD dataset tracks changes in forests, croplands, urban areas, water bodies, and snow/ice cover globally from 2000 to 2020 at a high 30-meter resolution. Created using advanced machine learning tools, each aspect is validated separately.\nThe built-up land category includes man-made surfaces for infrastructure, commercial, and residential use. Using the CNN (U-Net) algorithm with Open Street Map data, we mapped global built-up areas in 2000 and 2020. Validation data refined the depiction of these extents and changes over time.\nThe permeability, classified in percentages (%), was assessed using boolean data types. The reclassification process was executed based on these values.\nCode\n# Create a tibble with the reclassification table\nreclass_table_land &lt;- tribble(\n  ~from, ~to, ~becomes,\n  0, 1, 1,\n  1, 2, 0,\n)\n\n# Reclassify the slope raster based on the reclassification table\nland_reclassified &lt;- classify(land_mask, reclass_table_land, include.lowest = TRUE, right = TRUE)\n\n# Adding a new column C to the data frame\nreclass_table_land$Class &lt;- c(\"sellado\",\"no sellado\")\n\nkable(reclass_table_land)\n\n\n\n\n\nfrom\nto\nbecomes\nClass\n\n\n\n\n0\n1\n1\nsellado\n\n\n1\n2\n0\nno sellado\n\n\n\n\n\nCode\n# change name\nnames(land_reclassified) &lt;- \"Land Seal Status\"\n\ntmap_mode(\"plot\")\n\nlegend_labels &lt;- c(\"1\" = \"Sealed\", \"0\" = \"Not Sealed\")\n\ntm_shape(land_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"cat\", palette = \"RdYlGn\") +\n     tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: glad.umd.edu\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )"
  },
  {
    "objectID": "Recarga_Hydrica_Aiquile.html#data-aiquile",
    "href": "Recarga_Hydrica_Aiquile.html#data-aiquile",
    "title": "1  Recarga Hydrica in Aiquile",
    "section": "3.1 Data Aiquile",
    "text": "3.1 Data Aiquile\nThe Following Data has been used:\n\nCode\n# Your code for reading shapefiles and rasters\n\n# Creating a table\nshapes &lt;- c(\"Political Map\", \"Geology\", \"Vegetation\", \"Precipitation\", \"DEM\", \"Land Use\")\ndata_type &lt;- c(\"Vector\", \"Vector\", \"Vector\", \"Raster\", \"Raster\", \"Raster\")\n\nsources &lt;- c(\"[gadm.org](https://gadm.org/download_country.html)\", \"[geo.gob.bo](https://geo.gob.bo/portal/#catalog)\", \"[geo.gob.bo](https://geo.gob.bo/portal/#catalog)\", \n             \"[worldclim.org](https://www.worldclim.org/data/worldclim21.html)\", \n             \"[Hydrosheds.org](https://www.hydrosheds.org/hydrosheds-core-downloads)\", \n             \"[GLAD dataset](https://glad.umd.edu/dataset/GLCLUC2020)\")\n\n# Repeat the sources based on the number of shapes\nrepeated_sources &lt;- rep(sources, length.out = length(shapes))\n\ndata &lt;- data.frame(Shape_Raster = shapes, Data_Type = data_type, Sources = repeated_sources)\ncolnames(data) &lt;- c(\"Data Name\", \"Data Type\", \"Sources\")\n\nkable(data)\n\n\n\n\n\nData Name\nData Type\nSources\n\n\n\n\nPolitical Map\nVector\ngadm.org\n\n\nGeology\nVector\ngeo.gob.bo\n\n\nVegetation\nVector\ngeo.gob.bo\n\n\nPrecipitation\nRaster\nworldclim.org\n\n\nDEM\nRaster\nHydrosheds.org\n\n\nLand Use\nRaster\nGLAD dataset\n\n\n\n\n\nCode\n# Read data and crop to Aiquile\n# read data \n\n## shapes\nbol &lt;- read_sf(\"gadm41_BOL_3.shp\") # Aiquile extent\n# veg &lt;- read_sf(\"veg_nv_bol_geo.shp\") # Vegetation\n# geo &lt;- read_sf(\"Geologia.shp\") # Geografia\ngeo   &lt;- read_sf(\"Geologia.dbf\")   # Geografia\n\ndsmw  &lt;- read_sf(\"DSMW.shp\",crs = 4326)\n\n# other kind of vegetation\nse_bo_geo &lt;- read_sf(\"se_bo_geo.shp\")\n\n# precipitacion\nprecip01 &lt;- rast(\"wc2.1_30s_prec_01.tif\")\nprecip02 &lt;- rast(\"wc2.1_30s_prec_02.tif\")\nprecip03 &lt;- rast(\"wc2.1_30s_prec_03.tif\")\nprecip04 &lt;- rast(\"wc2.1_30s_prec_04.tif\")\nprecip05 &lt;- rast(\"wc2.1_30s_prec_05.tif\")\nprecip06 &lt;- rast(\"wc2.1_30s_prec_06.tif\")\nprecip07 &lt;- rast(\"wc2.1_30s_prec_07.tif\")\nprecip08 &lt;- rast(\"wc2.1_30s_prec_08.tif\")\nprecip09 &lt;- rast(\"wc2.1_30s_prec_09.tif\")\nprecip10 &lt;- rast(\"wc2.1_30s_prec_10.tif\")\nprecip11 &lt;- rast(\"wc2.1_30s_prec_11.tif\")\nprecip12 &lt;- rast(\"wc2.1_30s_prec_12.tif\")\n\n## raster\ndem &lt;- rast(\"s20w070_dem.tif\")\n\n# Land Use\nland &lt;- rast(\"Change_10S_070W.tif\")\n\n\n3.1.1 Data Processing\nThe Data is being filtered by the Frame of reference. Vegetation Data has been filtered to “Cochabamba”. The Frames are being intersected by the Frame of Reference - The Aiquile-Shape.\n\n\nCode\n# Filter, crop and mask raster\n# filter der bol shapes\naiquile   &lt;- bol %&gt;% filter(NAME_3 == \"Aiquile\")\n\n# st_write(nc, paste0(tempdir(), \"/\", \"nc.shp\"))\n\n# DEM\n##  crop and mask dem\ndem_crop &lt;- terra::crop(dem, aiquile)\ndem_mask &lt;- mask(dem_crop, aiquile)\n\n## terrain\nterrain  &lt;- terrain(dem_mask)\n\n# land\n##  crop and mask dem\nland_crop &lt;- terra::crop(land, aiquile)\nland_mask &lt;- mask(land_crop, aiquile)\n\n\n### Intersections Geo, Veg, se_bo_geo\n# GEO\n# crop and mask geo\nsf_use_s2(FALSE) # quick fix\ngeo_intersect  &lt;- sf::st_intersection(geo, aiquile)\n\n# Digital Soil Map of the World\n\ndsmw_intersect  &lt;- sf::st_intersection(dsmw, aiquile)\n\n# dsmw_intersect %&gt;% \n# ggplot(aes(fill = FAOSOIL)) +\n#   geom_sf()\n\n\n# VEG\n# filter a cocha\n# veg_cocha &lt;- veg %&gt;% filter(NOM_DEP == \"Cochabamba\")\n\n# VEG\n# crop and mask veg\n# veg_intersect  &lt;- sf::st_intersection(veg_cocha, aiquile)\n\n# veg_intersect_frame &lt;- as.data.frame(veg_intersect)\n# \n# veg_intersect_frame %&gt;% select(3) %&gt;% kable()\n\n# VIS\n# veg_intersect %&gt;%\n#   ggplot(aes(fill = DESCRIP)) +\n#   geom_sf()\n\n# se_bo_geo\nse_bo_geo_intersect  &lt;- sf::st_intersection(se_bo_geo, aiquile)\n\n# se_bo_geo_frame &lt;- as.data.frame(se_bo_geo_intersect)\n\n#VIS Column\n# se_bo_geo_frame %&gt;% select(3) %&gt;% kable()\n\n# VIS\n# se_bo_geo_intersect %&gt;%\n#   ggplot(aes(fill = DESC_SIS)) +\n#   geom_sf() +\n#   theme(legend.position=\"none\")"
  },
  {
    "objectID": "Recarga_Hydrica_Aiquile.html#processing-precipitation",
    "href": "Recarga_Hydrica_Aiquile.html#processing-precipitation",
    "title": "1  Recarga Hydrica in Aiquile",
    "section": "4.1 Processing Precipitation",
    "text": "4.1 Processing Precipitation\nThe following 12 Raster-Layers have been summed to ensure we have one Raster for further classification. The Result is one Raster-Layer that contains the complete Precipitation of the average year from 1970-2000.\n\n\nCode\n# Use the first raster as a base for the sum\nsum_raster &lt;- lista_precip_mask[[1]]\n\n# Loop through the remaining rasters and add their values to the sum_raster\nfor (i in 2:length(lista_precip_mask)) {\n  sum_raster &lt;- sum_raster + lista_precip_mask[[i]]\n}\n\n# writeRaster(sum_raster, \"sum_raster.tif\")\n\n# Show the summary of the resulting raster\n# summary(sum_raster)\n# plot(sum_raster)"
  },
  {
    "objectID": "Recarga_Hydrica_Aiquile.html#reclass-precipitation",
    "href": "Recarga_Hydrica_Aiquile.html#reclass-precipitation",
    "title": "1  Recarga Hydrica in Aiquile",
    "section": "4.2 Reclass Precipitation",
    "text": "4.2 Reclass Precipitation\n\n\nCode\n# Create a tibble with the reclassification table\nreclass_table_precip &lt;- tribble(\n  ~from, ~to, ~becomes,\n  650,    Inf,  1,      # 650 to Inf becomes 1\n  600,    650,  0.75,   # 600 to 650 becomes 0.75\n  550,    600,  0.5,    # 550 to 600 becomes 0.5\n  500,    550,  0.25,   # 500 to 550 becomes 0.25\n  -Inf,   500,  0       # -Inf to 500 becomes 0\n)\n\n# Assuming you have a slope raster 'slope_raster'\n# Reclassify the slope raster based on the reclassification table\nprecip_reclassified &lt;- classify(sum_raster, reclass_table_precip, include.lowest = TRUE, right = TRUE)\n\nkable(reclass_table_precip)\n\n\n\n\n\nfrom\nto\nbecomes\n\n\n\n\n650\nInf\n1.00\n\n\n600\n650\n0.75\n\n\n550\n600\n0.50\n\n\n500\n550\n0.25\n\n\n-Inf\n500\n0.00\n\n\n\n\n\nCode\n# change name\nnames(precip_reclassified) &lt;- \"Potencial recarga\"\n\ntmap_mode(\"plot\")\n\ntm_shape(precip_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"pretty\", palette = \"RdYlGn\") +\n     tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: worldclim.org\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )"
  },
  {
    "objectID": "Recarga_Hydrica_Aiquile.html#raster-calculation",
    "href": "Recarga_Hydrica_Aiquile.html#raster-calculation",
    "title": "1  Recarga Hydrica in Aiquile",
    "section": "10.1 Raster Calculation",
    "text": "10.1 Raster Calculation\nThe final Raster Calculation is being conducted according to the following table.\n\n\nCode\n# Align resolutions (resample veg)\nveg_resampled &lt;- resample(veg_spatraster, dem_reclassified)\n\n# Align resolutions (resample geo)\ngeo_reclassified &lt;- resample(geo_reclassified, veg_resampled)\n\n# Align resolutions (resample land)\nland_reclassified &lt;- resample(land_reclassified, geo_reclassified)\n\n# Align resolutions (resample land)\nprecip_reclassified &lt;- resample(precip_reclassified, land_reclassified)\n\n# Align resolutions (resample land)\nfao_reclassified &lt;- resample(fao_reclassified, precip_reclassified)\n\n# final calc\n# raster_final &lt;- (dem_reclassified + veg_resampled + geo_reclassified + land_reclassified + precip_reclassified) / 5\n\n# ZR (zona de recarga) = [0.27*(Pend)+0.23*(Ts)+0.12*(Tr)+0.25*(Cve)+0.13* (Us)]\n\n# final_raster = 0.345*(dem_reclassified)+0.19*(geo_reclassified)+0.32*(veg_resampled)+0.2*(land_reclassified) + (precip_reclassified)\n\n# Adjusted weights\nweight_dem &lt;- 0.25\nweight_geo &lt;- 0.1\nweight_veg &lt;- 0.15\nweight_land &lt;- 0.15\nweight_precip &lt;- 0.2\nweight_fao &lt;- 0.15\n\n# Perform the adjusted weighted combination\nfinal_raster &lt;- weight_dem    * dem_reclassified +\n                weight_geo    * geo_reclassified +\n                weight_veg    * veg_resampled +\n                weight_land   * land_reclassified +\n                weight_precip * precip_reclassified +\n                weight_fao    * fao_reclassified\n\n\n# Define the weights and data\nweights &lt;- c(0.25, 0.1, 0.15, 0.15, 0.2, 0.15)\ndata_names &lt;- c(\"DEM\", \"Geology\", \"Vegetation\", \"Land Use\", \"Precipitation\", \"Soil Type by the FAO\")\n\n# Create the table\ntable_data &lt;- data.frame(Weight = weights, Data = data_names)\n\n# Show the table\nkable(table_data)\n\n\n\n\n\nWeight\nData\n\n\n\n\n0.25\nDEM\n\n\n0.10\nGeology\n\n\n0.15\nVegetation\n\n\n0.15\nLand Use\n\n\n0.20\nPrecipitation\n\n\n0.15\nSoil Type by the FAO"
  },
  {
    "objectID": "Recarga_Hydrica_Aiquile.html#reclass-final-result",
    "href": "Recarga_Hydrica_Aiquile.html#reclass-final-result",
    "title": "1  Recarga Hydrica in Aiquile",
    "section": "10.2 Reclass Final Result",
    "text": "10.2 Reclass Final Result\nThe following Map shows the potential of water-recharge across Aiquile according to the previous settings and classificacions in four different Classes: “Very low”, “low”, “Moderate” and “High”.\n\n\nCode\n# Define breaks and labels for the reclassification\nbreaks &lt;- c(0, 0.7, 0.75, 0.8, 1)\nlabels &lt;- c(\"Muy baja\", \"Baja\", \"Moderata\", \"Alta\")\n\n# Cut the raster values into categorical factors\nfactor_raster &lt;- cut(values(final_raster), breaks = breaks, labels = labels, include.lowest = TRUE)\n\n# Use dplyr's recode to change the factor levels based on the breaks and labels\n\nfactor_raster &lt;- factor_raster %&gt;% \n  recode(\"Muy baja\" = \"Alta\", \"Baja\" = \"Moderata\", \"Moderata\" = \"Baja\", \"Alta\" = \"Muy baja\")\n\n# change name\nnames(final_raster) &lt;- \"Potencial de Recarga\"\n\n# Create a new raster with categorized values\nr_categorized &lt;- final_raster\nvalues(r_categorized) &lt;- as.character(factor_raster)\n\n# view\ntmap_mode(\"plot\")\n\ntm_shape(r_categorized, labels = \"New Legend Label\") +\n    tm_raster(style = \"cont\", palette = \"RdYlGn\", breaks = breaks, labels = labels) +\n     tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Author: Johannes Quente\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )"
  },
  {
    "objectID": "Recarga_Hydrica_Aiquile.html#visualization-via-tmap",
    "href": "Recarga_Hydrica_Aiquile.html#visualization-via-tmap",
    "title": "1  Recarga Hydrica in Aiquile",
    "section": "10.3 Visualization via tmap",
    "text": "10.3 Visualization via tmap\nThis interactive Map shows only the higher values (&gt; 0.7) including the values: “low”, “moderate” and “high” with different maps in the backround provided by openstreetmap.org.\n\n\nCode\n# void map\nnew_raster &lt;- final_raster\nnew_raster[new_raster &lt; 0.7] &lt;- NA\n\n# map transparent final\ntmap_mode(\"view\")\n\ntm_shape(new_raster) + \n  tm_raster(palette = \"YlGn\", style = 'cont', alpha = 0.8) +\ntm_basemap(c(\"Esri.WorldImagery\", \"OpenStreetMap.Mapnik\")) +\n  tm_minimap()\n\n\n\n\n\n\n\n\n\n\n\n\nErnesto, Inti, Rodriguez Levy, Miguel Ángel, and Centella Levy. 2021. “INFORME: DETERMINACIÓN DE ZONAS POTENCIALES DE RECARGA HÍDIRCA PARA LA CUENCA VIRVINI, MUNICIPIO DE TIRAQUE.” Cochabamba, Bolivia: Universidad Católica Boliviana Cochabamba, Centro de investigación en Ciencias Exactas e Ingenierías."
  },
  {
    "objectID": "Pasorapa.html",
    "href": "Pasorapa.html",
    "title": "2  Recarga Hydrica in Pasorapa",
    "section": "",
    "text": "3 Frame of Reference Pasorapa\nThe study took place in Pasorapa, situated in the upper part of the Pucara watershed, Cochabamba’s Valle Alto region. Renowned for extensive agricultural land, Pasorapa provides various produce. Additionally, water sources in the adjacent mountains serve as crucial irrigation water for other municipalities, notably Punata, situated downstream with the region’s largest population.\nPasorapa has grappled with internal and inter-municipal disputes over water rights. Authorities are formulating policies focused on safeguarding recharge zones and water sources, positioning Pasorapa as a pioneer in the Valle Alto region.\nDespite its geographical significance, emphasis on surface water sources has sidelined direct extraction of groundwater through wells, limiting understanding of hydrogeological processes and aquifer recharge factors. Climatic uncertainties altering precipitation patterns exacerbate water security concerns, leading to prolonged periods of water stress.\nThus, the study aims to devise a methodology for identifying potential aquifer recharge zones, considering Pasorapa’s unique biophysical and social characteristics. These findings aim to support the proposed municipal policy in Pasorapa.\nGiven the absence of a standardized methodology, this approach draws from Oscar Matus’ method—a cost-effective, scientific, and participatory approach adaptable to diverse scenarios. By integrating local knowledge with detailed biophysical aspects, the methodology encourages community involvement, influencing decision-making processes regarding territorial and natural resource management. Its potential replication extends regionally and nationally.\nWorking in the R-Studio Environment. The following Packages have been used to accomplish the final Results and have provided the necessary functions for the calculations conducted.\nCode\n# read libraries\nlibrary(raster)\nlibrary(terra)\nlibrary(ggplot2)\nlibrary(tmap)\nlibrary(sf)\nlibrary(dplyr)\nlibrary(tibble)\nlibrary(knitr)\nThe following Data by worldclim.org resembles Precipitation Data on a 30 Arc Second Accuracy. The format provides one Raster-Layer for each month. The following Loop has been written in order to facilitate the Casting process.\nCode\n# LOOP\n\n# Crear una lista con los nombres de los objetos\nlista_precip &lt;- paste0(\"precip\", sprintf(\"%02d\", 1:12))  # Genera los nombres de precip01 a precip12\n\n# Inicializar una lista vacía para almacenar los resultados\nlista_precip_mask &lt;- list()\n\n# Iterar sobre cada objeto y aplicar las operaciones\nfor (i in seq_along(lista_precip)) {\n  # Acceder al objeto con el nombre correspondiente\n  precip_obj &lt;- get(lista_precip[i])\n  \n  # Aplicar las operaciones crop y mask\n  precip_crop &lt;- terra::crop(precip_obj, Pasorapa)\n  precip_mask &lt;- mask(precip_crop, Pasorapa)\n  \n  # Almacenar el resultado en la lista\n  lista_precip_mask[[i]] &lt;- precip_mask\n}\n\n# Mostrar la lista de resultados (en caso de querer acceder a cada uno)\n# lista_precip_mask\n\n# Para visualizar un objeto específico (por ejemplo, el primer objeto)\n\n# plot(lista_precip_mask[[4]])\nThe following FAO Soil Type Data available at fao.com contains Shapes in five different Categories. These have been assigned to a certain degree of Permeability of Water in (%). The Reclassification has been processed according to these values.\nCode\n# Create an empty raster to rasterize into\nempty_raster &lt;- raster(extent(dsmw_intersect), resolution = c(0.0008333333, 0.0008333333))\n\n# Convert SIMBOLO to factor\ndsmw_intersect$FAOSOIL &lt;- as.factor(dsmw_intersect$FAOSOIL)\n\n# Rasterize\nfao_raster &lt;- rasterize(dsmw_intersect, empty_raster, field = \"FAOSOIL\")\n\n# writeRaster(geo_raster, \"geo_raster.tif\", overwrite=TRUE)\n\n# vis\n# plot(geo_raster)\n\n# reclass\n# Create a tibble with the reclassification table\nreclass_table_fao &lt;- tribble(\n  ~from, ~to, ~becomes,\n  1, 1, 0.9,   \n  1, 2, 0.7,    \n  2, 3, 0.6,      \n  3, 4, 0.8,    \n  4, 5, 0.5\n)\n\n# Assuming you have a slope raster 'slope_raster'\n# Reclassify the slope raster based on the reclassification table\nfao_reclassified &lt;- reclassify(fao_raster, reclass_table_fao, include.lowest = TRUE, right = TRUE)\n\n# Align Vegetation-Raster\nfao_reclassified &lt;- rast(fao_reclassified)\n\n# Adding a new column C to the data frame\nreclass_table_fao$Class &lt;- c(\"Sandy clay\", \"Clayey loam\", \"Sandy silt loam\", \"Clayey silt loam\", \"Silt loam\")\n\nreclass_table_fao$FAOSOIL &lt;- c(\"Bk2-b \", \"I-Bd-Bh-c\", \"I-Be-Lc-c\", \"I-Tv-c\", \"Lc6-c\")\n\nkable(reclass_table_fao)\n\n\n\n\n\nfrom\nto\nbecomes\nClass\nFAOSOIL\n\n\n\n\n1\n1\n0.9\nSandy clay\nBk2-b\n\n\n1\n2\n0.7\nClayey loam\nI-Bd-Bh-c\n\n\n2\n3\n0.6\nSandy silt loam\nI-Be-Lc-c\n\n\n3\n4\n0.8\nClayey silt loam\nI-Tv-c\n\n\n4\n5\n0.5\nSilt loam\nLc6-c\n\n\n\n\n\nCode\n# dsmw_intersect %&gt;% \n# ggplot(aes(fill = FAOSOIL)) +\n#   geom_sf()\n\n# check\n\ntmap_mode(\"plot\")\n\ntm_shape(fao_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"pretty\", palette = \"RdYlGn\") +\n     tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: fao.org\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )\nThe following Geology data contains Shapes in six different Categories. The Categories has been assigned to a certain degree of Permeability in (%). The Reclassification has been processed according to these values.\nCode\n# ggplot(geo_intersect, aes(fill = SIMBOLO)) +\n#   geom_sf()\n\n# Create an empty raster to rasterize into\nempty_raster &lt;- raster(extent(geo_intersect), resolution = c(0.0008333333, 0.0008333333))\n\nempty_raster &lt;- rast(empty_raster)\n\n# Convert SIMBOLO to factor\n# geo_intersect$SIMBOLO &lt;- as.factor(geo_intersect$SIMBOLO)\n\n# Rasterize\ngeo_raster &lt;- terra::rasterize(geo_intersect, empty_raster, field = \"SIMBOLO\", fun = mean)\n\n# writeRaster(geo_raster, \"geo_raster.tif\", overwrite=TRUE)\n\n# vis\n# plot(geo_raster)\n\n# reclass\n# Create a tibble with the reclassification table\nreclass_table_geo &lt;- tribble(\n  ~from, ~to, ~becomes,\n  0, 0, 0.2,    # C - Crystalline: \"C\" could represent crystalline rocks or materials, often associated with igneous or metamorphic formations.\n  0, 1, 0.4,    # D - Deposits or Duricrust:\"D\" might stand for specific deposits or duricrust, which is a hard layer formed on the ground by cementation.\n  1, 2, 1,      # K - Karst: \"K\" might be used to denote karst terrain, which is characterized by soluble bedrock, such as limestone, and features like caves and sinkholes.\n  2, 3, 0.4,    # Q - Quarternary: \"Q\" could represent a geological or environmental classification related to the Quaternary period.\n  3, 4, 0.8,    # O - Organic or Overburden: \"O\" could be associated with organic materials or overburden, referring to unconsolidated material covering bedrock.\n  4, 5, 0.8,    # S - Sedimentary: In geological or environmental contexts, \"S\" might represent sedimentary rocks or materials.\n)\n\n# Assuming you have a slope raster 'slope_raster'\n# Reclassify the slope raster based on the reclassification table\ngeo_reclassified &lt;- classify(geo_raster, reclass_table_geo, include.lowest = TRUE, right = TRUE)\n\n\n# Adding a new column C to the data frame\nreclass_table_geo$Class &lt;- c(\"Crystalline\", \"Deposits or Duricrust\", \"Karst\", \"Quarternary\", \"Organic or Overburden\", \"Sedimentary\")\n\nkable(reclass_table_geo)\n\n\n\n\n\nfrom\nto\nbecomes\nClass\n\n\n\n\n0\n0\n0.2\nCrystalline\n\n\n0\n1\n0.4\nDeposits or Duricrust\n\n\n1\n2\n1.0\nKarst\n\n\n2\n3\n0.4\nQuarternary\n\n\n3\n4\n0.8\nOrganic or Overburden\n\n\n4\n5\n0.8\nSedimentary\n\n\n\n\n\nCode\n# check\n\ntmap_mode(\"plot\")\n\ntm_shape(geo_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"pretty\", palette = \"RdYlGn\") +\n    tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9, position = c(\"left\")) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: geo.gob.bo\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )\nThe following Vegetation data contains Shapes in four different Categories. The Vegetation has been categorized into a certain degree of Permeability in (%). The Reclassification has been processed according to these values.\nCode\n# Create an empty raster to rasterize into\nempty_raster &lt;- raster(extent(se_bo_geo_intersect), resolution = c(0.0008333333, 0.0008333333))\n\n# Rasterize\nveg_bol &lt;- rasterize(se_bo_geo_intersect, empty_raster)\n\n# writeRaster(veg_bol, \"veg_bol.tif\")\n\n# plot(veg_bol)\n# View(veg_bol)\n\n# reclass\n# Create a tibble with the reclassification table\nreclass_table_veg &lt;- tribble(\n  ~from, ~to, ~becomes,\n  1, 3, 1,           # Bosques freatófitos / Phreatophytische Wälder\n  3, 5, 0.8,         # Bosques xerofíticos interandinos y subandinos / Inter- und subandine xerophytische Wälder\n  5, 11, 0.4,        # Matorrales pluviestacionales montanos / montanes Pluvialgebüsch\n  11, 14, 0.2,       # Pajonales altimontanos / altimontanes montanes Grasland\n)\n\n# Assuming you have a slope raster 'slope_raster'\n# Reclassify the slope raster based on the reclassification table\nveg_reclassified &lt;- reclassify(veg_bol, reclass_table_veg, include.lowest = TRUE, right = TRUE)\n\n# Align Vegetation-Raster\nveg_reclassified &lt;- rast(veg_reclassified)\n\n# Adding a new column C to the data frame\nreclass_table_veg$Class &lt;- c(\"Bosques freatófitos\", \"Bosques xerofíticos interandinos y subandinos\", \"Matorrales pluviestacionales montanos\", \"Pajonales altimontanos\")\n\n# test and print\nkable(reclass_table_veg)\n\n\n\n\n\nfrom\nto\nbecomes\nClass\n\n\n\n\n1\n3\n1.0\nBosques freatófitos\n\n\n3\n5\n0.8\nBosques xerofíticos interandinos y subandinos\n\n\n5\n11\n0.4\nMatorrales pluviestacionales montanos\n\n\n11\n14\n0.2\nPajonales altimontanos\n\n\n\n\n\nCode\n# check\n\ntmap_mode(\"plot\")\n\ntm_shape(veg_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"cat\", palette = \"RdYlGn\") +\n   tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9, position = c(\"left\")) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: geo.gob.bo\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )\nThe following Digital elevation model (DEM) contains Raster-Values from min value 1231 to the max value 3450. The Data has been transformed into Slope by the Function: terra::terrain. The Slope-Data has been categorized according to Ernesto et al. (2021) into a certain degree of Permeability in (%). The Reclassification has been processed according to these values.\nCode\n# Create a tibble with the reclassification table\nreclass_table_dem &lt;- tribble(\n  ~from, ~to, ~becomes,\n  0, 6, 1,           # Class 1: Plano a casi plano\n  6, 15, 0.75,       # Class 2: Moderadamente ondulado\n  15, 45, 0.5,       # Class 3: Ondulado/cóncavo\n  45, 65, 0.25,      # Class 4: Escarpado\n  65, Inf, 0         # Class 5: Fuertemente escarpado\n)\n\n# Assuming you have a slope raster 'slope_raster'\n# Reclassify the slope raster based on the reclassification table\ndem_reclassified &lt;- classify(terrain, reclass_table_dem, include.lowest = TRUE, right = TRUE)\n\n# Adding a new column C to the data frame\nreclass_table_dem$Class &lt;- c(\"Plano a casi plano\", \"Moderadamente ondulado\", \"Ondulado/cóncavo\", \"Escarpado\", \"Fuertemente escarpado\")\n\nkable(reclass_table_dem)\n\n\n\n\n\nfrom\nto\nbecomes\nClass\n\n\n\n\n0\n6\n1.00\nPlano a casi plano\n\n\n6\n15\n0.75\nModeradamente ondulado\n\n\n15\n45\n0.50\nOndulado/cóncavo\n\n\n45\n65\n0.25\nEscarpado\n\n\n65\nInf\n0.00\nFuertemente escarpado\n\n\n\n\n\nCode\n# change name\nnames(dem_reclassified) &lt;- \"Potencial recarga\"\n\ntmap_mode(\"plot\")\n\ntm_shape(dem_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"cat\", palette = \"RdYlGn\") +\n    tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9, position = c(\"left\")) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: Hydrosheds.org\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )\nThe free to access GLAD dataset tracks changes in forests, croplands, urban areas, water bodies, and snow/ice cover globally from 2000 to 2020 at a high 30-meter resolution. Created using advanced machine learning tools, each aspect is validated separately.\nThe built-up land category includes man-made surfaces for infrastructure, commercial, and residential use. Using the CNN (U-Net) algorithm with Open Street Map data, we mapped global built-up areas in 2000 and 2020. Validation data refined the depiction of these extents and changes over time.\nThe permeability, classified in percentages (%), was assessed using boolean data types. The reclassification process was executed based on these values.\nCode\n# Create a tibble with the reclassification table\nreclass_table_land &lt;- tribble(\n  ~from, ~to, ~becomes,\n  0, 1, 1,\n  1, 2, 0,\n)\n\n# Reclassify the slope raster based on the reclassification table\nland_reclassified &lt;- classify(land_mask, reclass_table_land, include.lowest = TRUE, right = TRUE)\n\n# Adding a new column C to the data frame\nreclass_table_land$Class &lt;- c(\"sellado\",\"no sellado\")\n\nkable(reclass_table_land)\n\n\n\n\n\nfrom\nto\nbecomes\nClass\n\n\n\n\n0\n1\n1\nsellado\n\n\n1\n2\n0\nno sellado\n\n\n\n\n\nCode\n# change name\nnames(land_reclassified) &lt;- \"Land Seal Status\"\n\ntmap_mode(\"plot\")\n\nlegend_labels &lt;- c(\"1\" = \"Sealed\", \"0\" = \"Not Sealed\")\n\ntm_shape(land_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"cat\", palette = \"RdYlGn\") +\ntm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9, position = c(\"left\")) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: glad.umd.edu\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )"
  },
  {
    "objectID": "Pasorapa.html#data-pasorapa",
    "href": "Pasorapa.html#data-pasorapa",
    "title": "2  Recarga Hydrica in Pasorapa",
    "section": "4.1 Data Pasorapa",
    "text": "4.1 Data Pasorapa\nThe Following Data has been used:\n\nCode\n# Your code for reading shapefiles and rasters\n\n# Creating a table\nshapes &lt;- c(\"Political Map\", \"Geology\", \"Vegetation\", \"Precipitation\", \"DEM\", \"Land Use\")\ndata_type &lt;- c(\"Vector\", \"Vector\", \"Vector\", \"Raster\", \"Raster\", \"Raster\")\n\nsources &lt;- c(\"[gadm.org](https://gadm.org/download_country.html)\", \"[geo.gob.bo](https://geo.gob.bo/portal/#catalog)\", \"[geo.gob.bo](https://geo.gob.bo/portal/#catalog)\", \n             \"[worldclim.org](https://www.worldclim.org/data/worldclim21.html)\", \n             \"[Hydrosheds.org](https://www.hydrosheds.org/hydrosheds-core-downloads)\", \n             \"[GLAD dataset](https://glad.umd.edu/dataset/GLCLUC2020)\")\n\n# Repeat the sources based on the number of shapes\nrepeated_sources &lt;- rep(sources, length.out = length(shapes))\n\ndata &lt;- data.frame(Shape_Raster = shapes, Data_Type = data_type, Sources = repeated_sources)\ncolnames(data) &lt;- c(\"Data Name\", \"Data Type\", \"Sources\")\n\nkable(data)\n\n\n\n\n\nData Name\nData Type\nSources\n\n\n\n\nPolitical Map\nVector\ngadm.org\n\n\nGeology\nVector\ngeo.gob.bo\n\n\nVegetation\nVector\ngeo.gob.bo\n\n\nPrecipitation\nRaster\nworldclim.org\n\n\nDEM\nRaster\nHydrosheds.org\n\n\nLand Use\nRaster\nGLAD dataset\n\n\n\n\n\nCode\n# Read data and crop to Pasorapa\n# read data \n\n## shapes\nbol &lt;- read_sf(\"gadm41_BOL_3.shp\") # Pasorapa extent\nveg &lt;- read_sf(\"veg_nv_bol_geo.shp\") # Vegetation\n# geo &lt;- read_sf(\"Geologia.shp\") # Geografia\ngeo   &lt;- read_sf(\"Geologia.dbf\")   # Geografia\ndsmw  &lt;- read_sf(\"DSMW.shp\",crs = 4326)\n\n# other kind of vegetation\nse_bo_geo &lt;- read_sf(\"se_bo_geo.shp\")\n\n# precipitacion\nprecip01 &lt;- rast(\"wc2.1_30s_prec_01.tif\")\nprecip02 &lt;- rast(\"wc2.1_30s_prec_02.tif\")\nprecip03 &lt;- rast(\"wc2.1_30s_prec_03.tif\")\nprecip04 &lt;- rast(\"wc2.1_30s_prec_04.tif\")\nprecip05 &lt;- rast(\"wc2.1_30s_prec_05.tif\")\nprecip06 &lt;- rast(\"wc2.1_30s_prec_06.tif\")\nprecip07 &lt;- rast(\"wc2.1_30s_prec_07.tif\")\nprecip08 &lt;- rast(\"wc2.1_30s_prec_08.tif\")\nprecip09 &lt;- rast(\"wc2.1_30s_prec_09.tif\")\nprecip10 &lt;- rast(\"wc2.1_30s_prec_10.tif\")\nprecip11 &lt;- rast(\"wc2.1_30s_prec_11.tif\")\nprecip12 &lt;- rast(\"wc2.1_30s_prec_12.tif\")\n\n## raster\ndem &lt;- rast(\"s20w070_dem.tif\")\n\n# Land Use\nland &lt;- rast(\"Change_10S_070W.tif\")\n\n\n4.1.1 Data Processing\n\n\nCode\n# filter der bol shapes\nPasorapa   &lt;- bol %&gt;% filter(NAME_3 == \"Pasorapa\")\n\n# st_write(nc, paste0(tempdir(), \"/\", \"nc.shp\"))\n\n# filter a cocha\nveg_cocha &lt;- veg %&gt;% filter(NOM_DEP == \"Cochabamba\")\n\n# DEM\n##  crop and mask dem\ndem_crop &lt;- terra::crop(dem, Pasorapa)\ndem_mask &lt;- mask(dem_crop, Pasorapa)\n\n## terrain\nterrain  &lt;- terrain(dem_mask)\n\n# land\n##  crop and mask dem\nland_crop &lt;- terra::crop(land, Pasorapa)\nland_mask &lt;- mask(land_crop, Pasorapa)\n\n## Intersect Geo, Veg, se_bo_geo\n# GEO\n# crop and mask geo\nsf_use_s2(FALSE) # quick fix\ngeo_intersect  &lt;- sf::st_intersection(geo, Pasorapa)\n\n# Digital Soil Map of the World\ndsmw_intersect  &lt;- sf::st_intersection(dsmw, Pasorapa)\n\n# VEG\n# crop and mask veg\nveg_intersect  &lt;- sf::st_intersection(veg_cocha, Pasorapa)\n\n# VIS\n# veg_intersect %&gt;% \n#   ggplot(aes(fill = CLASE1)) +\n#   geom_sf()\n\n# se_bo_geo\nse_bo_geo_intersect  &lt;- sf::st_intersection(se_bo_geo, Pasorapa)\n\nse_bo_geo_frame &lt;- as.data.frame(se_bo_geo_intersect)\n#VIS Column\n# se_bo_geo_frame %&gt;% select(3) %&gt;% kable()\n\n# VIS\n# se_bo_geo_intersect %&gt;% \n#   ggplot(aes(fill = DESC_SIS)) +\n#   geom_sf() +\n#   theme(legend.position=\"none\")"
  },
  {
    "objectID": "Pasorapa.html#processing-precipitation",
    "href": "Pasorapa.html#processing-precipitation",
    "title": "2  Recarga Hydrica in Pasorapa",
    "section": "5.1 Processing Precipitation",
    "text": "5.1 Processing Precipitation\n\n\nCode\n# Use the first raster as a base for the sum\nsum_raster &lt;- lista_precip_mask[[1]]\n\n# Loop through the remaining rasters and add their values to the sum_raster\nfor (i in 2:length(lista_precip_mask)) {\n  sum_raster &lt;- sum_raster + lista_precip_mask[[i]]\n}\n\n# Show the summary of the resulting raster\n# summary(sum_raster)\n# plot(sum_raster)"
  },
  {
    "objectID": "Pasorapa.html#reclass-precipitation",
    "href": "Pasorapa.html#reclass-precipitation",
    "title": "2  Recarga Hydrica in Pasorapa",
    "section": "5.2 Reclass Precipitation",
    "text": "5.2 Reclass Precipitation\n\n\nCode\n# Create a tibble with the reclassification table\nreclass_table_precip &lt;- tribble(\n  ~from, ~to, ~becomes,\n  650,    Inf,  1,      # 650 to Inf becomes 1\n  600,    650,  0.75,   # 600 to 650 becomes 0.75\n  550,    600,  0.5,    # 550 to 600 becomes 0.5\n  500,    550,  0.25,   # 500 to 550 becomes 0.25\n  -Inf,   500,  0       # -Inf to 500 becomes 0\n)\n\n# Assuming you have a slope raster 'slope_raster'\n# Reclassify the slope raster based on the reclassification table\nprecip_reclassified &lt;- classify(sum_raster, reclass_table_precip, include.lowest = TRUE, right = TRUE)\n\nkable(reclass_table_precip)\n\n\n\n\n\nfrom\nto\nbecomes\n\n\n\n\n650\nInf\n1.00\n\n\n600\n650\n0.75\n\n\n550\n600\n0.50\n\n\n500\n550\n0.25\n\n\n-Inf\n500\n0.00\n\n\n\n\n\nCode\n# change name\nnames(precip_reclassified) &lt;- \"Potencial recarga\"\n\ntmap_mode(\"plot\")\n\ntm_shape(precip_reclassified, labels = \"New Legend Label\") +\n    tm_raster(style = \"pretty\", palette = \"RdYlGn\") +\n     tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9, position = c(\"left\")) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Data source: worldclim.org\", fontface = \"italic\", align = c(\"left\", \"bottom\")) + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )"
  },
  {
    "objectID": "Pasorapa.html#raster-calculation",
    "href": "Pasorapa.html#raster-calculation",
    "title": "2  Recarga Hydrica in Pasorapa",
    "section": "11.1 Raster Calculation",
    "text": "11.1 Raster Calculation\nThe final Raster Calculation is being conducted according to the following table.\n\n\nCode\n# Align resolutions (resample veg)\nveg_resampled &lt;- resample(veg_reclassified, dem_reclassified)\n\n# Align resolutions (resample geo)\ngeo_reclassified &lt;- resample(geo_reclassified, veg_resampled)\n\n# Align resolutions (resample land)\nland_reclassified &lt;- resample(land_reclassified, geo_reclassified)\n\n# Align resolutions (resample land)\nprecip_reclassified &lt;- resample(precip_reclassified, land_reclassified)\n\n# Align resolutions (resample land)\nfao_reclassified &lt;- resample(fao_reclassified, precip_reclassified)\n\n# final calc\n# raster_final &lt;- (dem_reclassified + veg_resampled + geo_reclassified + land_reclassified + precip_reclassified) / 5\n\n# ZR (zona de recarga) = [0.27*(Pend)+0.23*(Ts)+0.12*(Tr)+0.25*(Cve)+0.13* (Us)]\n\n# final_raster = 0.345*(dem_reclassified)+0.19*(geo_reclassified)+0.32*(veg_resampled)+0.2*(land_reclassified) + (precip_reclassified)\n\n# Adjusted weights\nweight_dem &lt;- 0.25\nweight_geo &lt;- 0.1\nweight_veg &lt;- 0.15\nweight_land &lt;- 0.15\nweight_precip &lt;- 0.2\nweight_fao &lt;- 0.15\n\n# Perform the adjusted weighted combination\nfinal_raster &lt;- weight_dem    * dem_reclassified +\n                weight_geo    * geo_reclassified +\n                weight_veg    * veg_resampled +\n                weight_land   * land_reclassified +\n                weight_precip * precip_reclassified +\n                weight_fao    * fao_reclassified\n\n\n# Define the weights and data\nweights &lt;- c(0.25, 0.1, 0.15, 0.15, 0.2, 0.15)\ndata_names &lt;- c(\"DEM\", \"Geology\", \"Vegetation\", \"Land Use\", \"Precipitation\", \"Soil Type by the FAO\")\n\n# Create the table\ntable_data &lt;- data.frame(Weight = weights, Data = data_names)\n\n# Show the table\nkable(table_data)\n\n\n\n\n\nWeight\nData\n\n\n\n\n0.25\nDEM\n\n\n0.10\nGeology\n\n\n0.15\nVegetation\n\n\n0.15\nLand Use\n\n\n0.20\nPrecipitation\n\n\n0.15\nSoil Type by the FAO"
  },
  {
    "objectID": "Pasorapa.html#reclass-final-result",
    "href": "Pasorapa.html#reclass-final-result",
    "title": "2  Recarga Hydrica in Pasorapa",
    "section": "11.2 Reclass Final Result",
    "text": "11.2 Reclass Final Result\nThe following Map shows the potential of water-recharge across Aiquile according to the previous settings and classificacions in four different Classes: “Very low”, “low”, “Moderate” and “High”.\n\n\nCode\n# Define breaks and labels for the reclassification\nbreaks &lt;- c(0, 0.7, 0.75, 0.8, 1)\nlabels &lt;- c(\"Muy baja\", \"Baja\", \"Moderata\", \"Alta\")\n\n# change name\nnames(final_raster) &lt;- \"Potencial de Recarga\"\n\n# Cut the raster values into categorical factors\nfactor_raster &lt;- cut(values(final_raster), breaks = breaks, labels = labels, include.lowest = TRUE)\n\n# Use dplyr's recode to change the factor levels based on the breaks and labels\n\nfactor_raster &lt;- factor_raster %&gt;% \n  recode(\"Muy baja\" = \"Alta\", \"Baja\" = \"Moderata\", \"Moderata\" = \"Baja\", \"Alta\" = \"Muy baja\")\n\n# Create a new raster with categorized values\nr_categorized &lt;- final_raster\nvalues(r_categorized) &lt;- as.character(factor_raster)\n\n# view\ntmap_mode(\"plot\")\n\ntm_shape(r_categorized, labels = \"New Legend Label\") +\n    tm_raster(style = \"cont\", palette = \"RdYlGn\", breaks = breaks, labels = labels) +\n     tm_scale_bar(breaks = c(0, 5, 10), text.size = 0.9) +\n   tm_compass(type = \"4star\", size = 6, position = c(\"right\", \"top\")) +\n  tm_credits(\"Author: Johannes Quente\", fontface = \"italic\", align = \"right\") + tm_graticules(alpha = 0.3) +\n  tm_layout(\n    legend.text.size = 1,\n    legend.position = c(\"left\", \"bottom\"),\n    legend.outside = TRUE\n  )"
  },
  {
    "objectID": "Pasorapa.html#visualization-via-tmap",
    "href": "Pasorapa.html#visualization-via-tmap",
    "title": "2  Recarga Hydrica in Pasorapa",
    "section": "11.3 Visualization via tmap",
    "text": "11.3 Visualization via tmap\nThis interactive Map shows only the higher values (&gt; 0.7) including the values: “low”, “moderate” and “high” with different maps in the backround provided by openstreetmap.org.\n\n\nCode\n# void map\nnew_raster &lt;- final_raster\nnew_raster[new_raster &lt; 0.7] &lt;- NA\n\n# map transparent final\ntmap_mode(\"view\")\n\ntm_shape(new_raster) + \n  tm_raster(palette = \"YlGn\", style = 'cont', alpha = 0.8) +\ntm_basemap(c(\"Esri.WorldImagery\", \"OpenStreetMap.Mapnik\")) +\n  tm_minimap()\n\n\n\n\n\n\n\n\n\n\n\n\nErnesto, Inti, Rodriguez Levy, Miguel Ángel, and Centella Levy. 2021. “INFORME: DETERMINACIÓN DE ZONAS POTENCIALES DE RECARGA HÍDIRCA PARA LA CUENCA VIRVINI, MUNICIPIO DE TIRAQUE.” Cochabamba, Bolivia: Universidad Católica Boliviana Cochabamba, Centro de investigación en Ciencias Exactas e Ingenierías."
  },
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "3  Summary",
    "section": "",
    "text": "The study aimed to develop a methodology for identifying potential water recharge areas in the Virvini micro-watershed, evaluating its accuracy alongside community members. Initial results analysis revealed discrepancies in certain parameters proposed by Matus, prompting their adjustment through the Delphi methodology involving international and local experts and community members. This resulted in a better balance of the original five variables and the addition of spatial precipitation distribution as a crucial sixth variable in identifying potential recharge areas.\nAdditionally, the study emphasized the need for a comprehensive analysis of soil cover types, particularly vegetation, and their influence on aquifer recharge. One significant finding was the importance of reclassifying land cover categories in delineating potential recharge zones.\nThe developed methodology aptly suited Virvini’s characteristics, both biophysically and socially. Active community involvement significantly contributed to satisfactory results, showcasing their extensive knowledge of the territory and water dynamics. Such studies not only reflect this knowledge but also yield territorial management tools prioritizing water source protection through participatory environmental conservation.\nThese findings lay the technical groundwork for crafting public policies focused on safeguarding groundwater and recharge areas in Aiquile and Pasorapa municipality, initiating steps toward regional groundwater resource protection. Regarding recharge area management, the study underscored the pivotal role of ecosystem conservation in maintaining the watershed’s surface biophysical properties, particularly soil and infiltration capacity. Protecting areas with native plant communities, rich in native species, should be integral to watershed management plans. These zones boast high aquifer recharge potential, hold significant ecological, scientific, and cultural value as part of Virvini’s natural heritage and Aiquile and Pasorapa municipality."
  },
  {
    "objectID": "References.html",
    "href": "References.html",
    "title": "References",
    "section": "",
    "text": "Ernesto, Inti, Rodriguez Levy, Miguel Ángel, and Centella Levy. 2021.\n“INFORME: DETERMINACIÓN DE ZONAS POTENCIALES DE RECARGA HÍDIRCA\nPARA LA CUENCA VIRVINI, MUNICIPIO DE TIRAQUE.” Cochabamba,\nBolivia: Universidad Católica Boliviana Cochabamba, Centro de\ninvestigación en Ciencias Exactas e Ingenierías.\n\n\nFigueredo, J. L. 2019. “Metodología Para Determinar Zonas de\nRecarga Hídrica En Municipios o Comunidades Con Recursos Financieros\nLimitados.” UNIVERSIDAD MILITAR NUEVA GRANADA.\n\n\nHelvetas, S. I. 2014. Guía Para La Gestión, Protección y\nConservación de Fuentes de Agua y Áreas de Recarga Hídrica.\n\n\nMatus, O. 2007. Elaboración Participativa de Una Metodología Para La\nIdentificación de Zonas Potenciales de Recarga Hídrica En Subcuencas\nHidrográficas , Aplicada a La Subcuenca Del Río Jucuapa , Matagalpa\nNicaragua. CATIE.\n\n\nSáenz-López, Á. A., L. C. Bravo-Peña, M. E. Torres-Olave, and C.\nAlatorre-Cejudo. 2015. “Localización de Zonas Con Potencial\nNatural de Recarga Hídrica: Ensayo de Enfoque Multiescalar En El\nAcuífero Cuauhtémoc.” Memorias de Resúmenes En Extenso\nSELPER-XXI-México-UACJ-2015."
  },
  {
    "objectID": "Author.html",
    "href": "Author.html",
    "title": "4  About the Author",
    "section": "",
    "text": "MSc. Johannes Quente\nThis Project has been developed for AGRECOL ANDES\nContact:\nWhatsapp: 0049 16095170961\nEmail: johannes.quente@gmail.com\nLinkedIn: linkedin.com\nGithub: github/Quasto-sketc\nBlog: Wordpress\nCV Resumen:\nJohannes Quente, hailing from the seafarers’ city of Hamburg, Germany, moved to Puerto Montt, Chile, as part of a year-long exchange when he was 16. After completing his high school studies and engaging in social work at the Seafarers’ Mission in the port of Hamburg, he decided to pursue agricultural sciences, specializing in agroecology, at the University of Göttingen.\nFor his master’s degree, Johannes moved to Switzerland to study Geoinformatics at ZHAW. He pursued his Master’s studies in Environment and Natural Resources within the Research Unit Agroecology and Food Systems, and the Geoinformatics research group at ZHAW (Switzerland). His master’s thesis focused on the quantitative environmental impacts of mining.\nTo date, he is being involved in various environmental, governmental, and university projects in Germany, Switzerland and Bolivia, regarding Agricultural, Food Waste and Hydrology Projects."
  }
]